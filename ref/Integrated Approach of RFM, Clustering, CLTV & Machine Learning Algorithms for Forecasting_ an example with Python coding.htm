<!doctype html><html lang="en"><head><script>!function(c,f){var t,o,i,e=[],r={passive:!0,capture:!0},n=new Date,a="pointerup",u="pointercancel";function p(n,e){t||(t=e,o=n,i=new Date,w(f),s())}function s(){0<=o&&o<i-n&&(e.forEach(function(n){n(o,t)}),e=[])}function l(n){if(n.cancelable){var e=(1e12<n.timeStamp?new Date:performance.now())-n.timeStamp;"pointerdown"==n.type?function(n,e){function t(){p(n,e),i()}function o(){i()}function i(){f(a,t,r),f(u,o,r)}c(a,t,r),c(u,o,r)}(e,n):p(e,n)}}function w(e){["click","mousedown","keydown","touchstart","pointerdown"].forEach(function(n){e(n,l,r)})}w(c),self.perfMetrics=self.perfMetrics||{},self.perfMetrics.onFirstInputDelay=function(n){e.push(n),s()}}(addEventListener,removeEventListener)</script><title data-rh="true">Integrated Approach of RFM, Clustering, CLTV &amp; Machine Learning Algorithms for Forecasting: an example with Python coding</title><meta data-rh="true" charset="utf-8"/><meta data-rh="true" name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1"/><meta data-rh="true" name="theme-color" content="#000000"/><meta data-rh="true" name="twitter:app:name:iphone" content="Medium"/><meta data-rh="true" name="twitter:app:id:iphone" content="828256236"/><meta data-rh="true" property="al:ios:app_name" content="Medium"/><meta data-rh="true" property="al:ios:app_store_id" content="828256236"/><meta data-rh="true" property="al:android:package" content="com.medium.reader"/><meta data-rh="true" property="fb:app_id" content="542599432471018"/><meta data-rh="true" property="og:site_name" content="Medium"/><meta data-rh="true" property="og:type" content="article"/><meta data-rh="true" property="article:published_time" content="2019-12-14T03:46:50.547Z"/><meta data-rh="true" name="title" content="Integrated Approach of RFM, Clustering, CLTV &amp; Machine Learning Algorithms for Forecasting: an example with Python coding"/><meta data-rh="true" property="og:title" content="Integrated Approach - RFM, Clustering, CLTV &amp; ML Algorithms for Forecasting: analysis with Python"/><meta data-rh="true" property="twitter:title" content="Integrated Approach - RFM, Clustering, CLTV &amp; ML Algorithms for Forecasting: analysis with Python"/><meta data-rh="true" name="twitter:site" content="@analyticsvidhya"/><meta data-rh="true" name="twitter:app:url:iphone" content="medium://p/15f9cb3653b0"/><meta data-rh="true" property="al:android:url" content="medium://p/15f9cb3653b0"/><meta data-rh="true" property="al:ios:url" content="medium://p/15f9cb3653b0"/><meta data-rh="true" property="al:android:app_name" content="Medium"/><meta data-rh="true" name="description" content="Forecasting consumer purchases using customer segmentation and algorithmic approaches and ensemble machine learning techniques"/><meta data-rh="true" property="og:description" content="Forecasting consumer purchases using customer segmentation and algorithmic approaches and ensemble machine learning techniques"/><meta data-rh="true" property="twitter:description" content="Forecasting consumer purchases using customer segmentation and algorithmic approaches and ensemble machine learning techniques"/><meta data-rh="true" property="og:url" content="https://medium.com/analytics-vidhya/integrated-approach-of-rfm-clustering-cltv-machine-learning-algorithm-15f9cb3653b0"/><meta data-rh="true" property="al:web:url" content="https://medium.com/analytics-vidhya/integrated-approach-of-rfm-clustering-cltv-machine-learning-algorithm-15f9cb3653b0"/><meta data-rh="true" property="og:image" content="https://miro.medium.com/max/1200/1*1hewbDXYm6XqcBsO-O31Gw.jpeg"/><meta data-rh="true" name="twitter:image:src" content="https://miro.medium.com/max/1200/1*1hewbDXYm6XqcBsO-O31Gw.jpeg"/><meta data-rh="true" name="twitter:card" content="summary_large_image"/><meta data-rh="true" property="article:author" content="https://medium.com/@sarit.maitra"/><meta data-rh="true" name="twitter:creator" content="@saritmaitra"/><meta data-rh="true" name="author" content="Sarit Maitra"/><meta data-rh="true" name="robots" content="index,follow"/><meta data-rh="true" name="referrer" content="unsafe-url"/><meta data-rh="true" name="twitter:label1" value="Reading time"/><meta data-rh="true" name="twitter:data1" value="9 min read"/><meta data-rh="true" name="parsely-post-id" content="15f9cb3653b0"/><link data-rh="true" rel="search" type="application/opensearchdescription+xml" title="Medium" href="/osd.xml"/><link data-rh="true" rel="apple-touch-icon" sizes="152x152" href="https://cdn-images-1.medium.com/fit/c/152/152/1*8I-HPL0bfoIzGied-dzOvA.png"/><link data-rh="true" rel="apple-touch-icon" sizes="120x120" href="https://cdn-images-1.medium.com/fit/c/120/120/1*8I-HPL0bfoIzGied-dzOvA.png"/><link data-rh="true" rel="apple-touch-icon" sizes="76x76" href="https://cdn-images-1.medium.com/fit/c/76/76/1*8I-HPL0bfoIzGied-dzOvA.png"/><link data-rh="true" rel="apple-touch-icon" sizes="60x60" href="https://cdn-images-1.medium.com/fit/c/60/60/1*8I-HPL0bfoIzGied-dzOvA.png"/><link data-rh="true" rel="mask-icon" href="https://cdn-static-1.medium.com/_/fp/icons/monogram-mask.KPLCSFEZviQN0jQ7veN2RQ.svg" color="#171717"/><link data-rh="true" rel="icon" href="https://cdn-static-1.medium.com/_/fp/icons/favicon-rebrand-medium.3Y6xpZ-0FSdWDnPM3hSBIA.ico"/><link data-rh="true" id="glyph_link" rel="stylesheet" type="text/css" href="https://glyph.medium.com/css/e/sr/latin/e/ssr/latin/e/ssb/latin/m2.css"/><link data-rh="true" rel="author" href="https://medium.com/@sarit.maitra"/><link data-rh="true" rel="canonical" href="https://medium.com/analytics-vidhya/integrated-approach-of-rfm-clustering-cltv-machine-learning-algorithm-15f9cb3653b0"/><link data-rh="true" rel="alternate" href="android-app://com.medium.reader/https/medium.com/p/15f9cb3653b0"/><script data-rh="true" type="application/ld+json">{"@context":"http:\u002F\u002Fschema.org","@type":"NewsArticle","image":["https:\u002F\u002Fmiro.medium.com\u002Fmax\u002F1200\u002F1*1hewbDXYm6XqcBsO-O31Gw.jpeg"],"url":"https:\u002F\u002Fmedium.com\u002Fanalytics-vidhya\u002Fintegrated-approach-of-rfm-clustering-cltv-machine-learning-algorithm-15f9cb3653b0","dateCreated":"2019-10-03T12:45:57.313Z","datePublished":"2019-10-03T12:45:57.313Z","dateModified":"2019-12-14T03:46:50.720Z","headline":"Integrated Approach - RFM, Clustering, CLTV & ML Algorithms for Forecasting: analysis with Python","name":"Integrated Approach - RFM, Clustering, CLTV & ML Algorithms for Forecasting: analysis with Python","description":"Forecasting consumer purchases using customer segmentation and algorithmic approaches and ensemble machine learning techniques","identifier":"15f9cb3653b0","keywords":["Lite:true","Tag:Machine Learning","Tag:Customer Service","Tag:Data Science","Tag:Analytics","Topic:Machine Learning","Topic:Data Science","Publication:analytics-vidhya","Elevated:false","LockedPostSource:LOCKED_POST_SOURCE_UGC","LayerCake:3"],"author":{"@type":"Person","name":"Sarit Maitra","url":"https:\u002F\u002Fmedium.com\u002F@sarit.maitra"},"creator":["Sarit Maitra"],"publisher":{"@type":"Organization","name":"Analytics Vidhya","url":"https:\u002F\u002Fmedium.com\u002Fanalytics-vidhya","logo":{"@type":"ImageObject","width":242,"height":60,"url":"https:\u002F\u002Fmiro.medium.com\u002Fmax\u002F484\u002F1*cK8jYS5H7rDYhb0vZkW4NA.png"}},"mainEntityOfPage":"https:\u002F\u002Fmedium.com\u002Fanalytics-vidhya\u002Fintegrated-approach-of-rfm-clustering-cltv-machine-learning-algorithm-15f9cb3653b0","isAccessibleForFree":"False","hasPart":{"@type":"WebPageElement","isAccessibleForFree":"False","cssSelector":".meteredContent"}}</script><script data-rh="true" >(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-24232453-2', 'auto');
ga('send', 'pageview');</script><link rel="preload" href="https://cdn.optimizely.com/js/16180790160.js" as="script"><style type="text/css" data-fela-rehydration="485" data-fela-type="STATIC">html{box-sizing:border-box}*, *:before, *:after{box-sizing:inherit}body{margin:0;padding:0;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;color:rgba(0,0,0,0.8);position:relative;min-height:100vh}h1, h2, h3, h4, h5, h6, dl, dd, ol, ul, menu, figure, blockquote, p, pre, form{margin:0}menu, ol, ul{padding:0;list-style:none;list-style-image:none}main{display:block}a{color:inherit;text-decoration:none}a, button, input{-webkit-tap-highlight-color:transparent}img, svg{vertical-align:middle}button{background:transparent;overflow:visible}button, input, optgroup, select, textarea{margin:0}</style><style type="text/css" data-fela-rehydration="485" data-fela-type="KEYFRAME">@-webkit-keyframes k1{0%{transform:scale(1)}50%{transform:scale(1.1)}100%{transform:scale(1)}}@-moz-keyframes k1{0%{transform:scale(1)}50%{transform:scale(1.1)}100%{transform:scale(1)}}@keyframes k1{0%{transform:scale(1)}50%{transform:scale(1.1)}100%{transform:scale(1)}}@-webkit-keyframes k2{0%{transform:scale(1);opacity:1}70%{transform:scale(1.4);opacity:0}100%{opacity:0}}@-moz-keyframes k2{0%{transform:scale(1);opacity:1}70%{transform:scale(1.4);opacity:0}100%{opacity:0}}@keyframes k2{0%{transform:scale(1);opacity:1}70%{transform:scale(1.4);opacity:0}100%{opacity:0}}</style><style type="text/css" data-fela-rehydration="485" data-fela-type="RULE">.a{font-family:medium-content-sans-serif-font, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Open Sans", "Helvetica Neue", sans-serif}.b{font-weight:400}.c{background-color:rgba(255, 255, 255, 1)}.l{height:100vh}.m{width:100vw}.n{display:flex}.o{align-items:center}.p{justify-content:center}.q{fill:rgba(0, 0, 0, 0.84)}.r{display:block}.s{position:fixed}.t{top:0}.u{left:0}.v{right:0}.w{z-index:500}.x{box-shadow:0 4px 12px 0 rgba(0, 0, 0, 0.05)}.ai{max-width:1192px}.aj{min-width:0}.ak{width:100%}.al{height:65px}.ao{flex:1 0 auto}.ap{flex:0 0 auto}.aq{font-family:medium-content-sans-serif-font, "Lucida Grande", "Lucida Sans Unicode", "Lucida Sans", Geneva, Arial, sans-serif}.ar{font-style:normal}.as{line-height:20px}.at{font-size:15.8px}.au{letter-spacing:0px}.av{color:rgba(0, 0, 0, 0.54)}.aw{fill:rgba(0, 0, 0, 0.54)}.ax{justify-content:flex-end}.ay{margin-top:16px}.az{margin-bottom:16px}.ba{display:inherit}.bb{max-width:210px}.bc{text-overflow:ellipsis}.bd{overflow:hidden}.be{white-space:nowrap}.bf{display:inline-block}.bg{border:none}.bh{outline:none}.bi{font:inherit}.bj{font-size:16px}.bk{opacity:0}.bl{position:relative}.bm{width:0px}.bn{transition:width 140ms ease-in}.bo{color:inherit}.bp{fill:inherit}.bq{font-size:inherit}.br{border:inherit}.bs{font-family:inherit}.bt{letter-spacing:inherit}.bu{font-weight:inherit}.bv{padding:0}.bw{margin:0}.bx:hover{cursor:pointer}.by:hover{color:rgba(0, 0, 0, 0.9)}.bz:hover{fill:rgba(0, 0, 0, 0.9)}.ca:focus{outline:none}.cb:disabled{cursor:default}.cc:disabled{color:rgba(0, 0, 0, 0.54)}.cd:disabled{fill:rgba(0, 0, 0, 0.54)}.ce{margin-left:16px}.cf{margin-right:10px}.ci{display:none}.ck{margin-right:16px}.cl{visibility:hidden}.cm{padding:4px 12px}.cn{color:rgba(0, 0, 0, 0.84)}.co{background:0}.cp{border-color:rgba(0, 0, 0, 0.54)}.cq:hover{color:rgba(0, 0, 0, 0.97)}.cr:hover{fill:rgba(0, 0, 0, 0.97)}.cs:hover{border-color:rgba(0, 0, 0, 0.84)}.ct:disabled{fill:rgba(0, 0, 0, 0.76)}.cu:disabled{border-color:rgba(0, 0, 0, 0.2)}.cv:disabled{cursor:inherit}.cw:disabled:hover{color:rgba(0, 0, 0, 0.54)}.cx:disabled:hover{fill:rgba(0, 0, 0, 0.76)}.cy:disabled:hover{border-color:rgba(0, 0, 0, 0.2)}.cz{border-radius:4px}.da{border-width:1px}.db{border-style:solid}.dc{box-sizing:border-box}.dd{text-decoration:none}.de{padding-bottom:10px}.df{padding-top:10px}.dg{border-radius:50%}.dh{height:32px}.di{width:32px}.dj{border-top:1px solid rgba(0, 0, 0, 0.1)}.dl{height:54px}.dm{margin-right:40px}.dn{height:36px}.do{width:145px}.dp{overflow:auto}.dq{flex:0 1 auto}.dr{list-style-type:none}.ds{line-height:40px}.dt{overflow-x:auto}.du{align-items:flex-start}.dv{margin-top:20px}.dw{padding-top:20px}.dx{height:80px}.dy{height:20px}.dz{margin-right:15px}.ea{margin-left:15px}.eb:first-child{margin-left:0}.ec{min-width:1px}.ed{background-color:rgba(0, 0, 0, 0.34)}.ee{font-weight:300}.ef{font-size:15px}.eg{text-transform:uppercase}.eh{letter-spacing:1px}.ei{margin-bottom:0px}.ej{height:119px}.em{padding-left:24px}.en{padding-right:24px}.eo{margin-left:auto}.ep{margin-right:auto}.eq{max-width:728px}.er{flex-direction:column}.es{position:absolute}.et{top:calc(100vh + 100px)}.eu{bottom:calc(100vh + 100px)}.ev{width:10px}.ew{pointer-events:none}.ex{word-break:break-word}.ey{word-wrap:break-word}.ez:after{display:block}.fa:after{content:""}.fb:after{clear:both}.fc{max-width:680px}.fd{line-height:1.23}.fe{letter-spacing:0}.ff{font-family:medium-content-title-font, Georgia, Cambria, "Times New Roman", Times, serif}.fq{margin-bottom:-0.27em}.fw{margin-top:32px}.fx{justify-content:space-between}.gb{height:48px}.gc{width:48px}.gd{margin-left:12px}.ge{margin-bottom:2px}.gg{max-height:20px}.gh{display:-webkit-box}.gi{-webkit-line-clamp:1}.gj{-webkit-box-orient:vertical}.gk:hover{text-decoration:underline}.gl{margin-left:8px}.gm{padding:0px 8px}.gn{color:rgba(28, 153, 99, 1)}.go{fill:rgba(2, 184, 117, 1)}.gp{border-color:rgba(2, 184, 117, 1)}.gq:hover{color:rgba(11, 59, 40, 1)}.gr:hover{fill:rgba(28, 153, 99, 1)}.gs:hover{border-color:rgba(28, 153, 99, 1)}.gt{line-height:18px}.gu{align-items:flex-end}.hc{padding-right:8px}.hd{margin-right:-6px}.he{fill:rgba(0, 0, 0, 0.76)}.hf{max-width:1280px}.hl{clear:both}.hm{transition:transform 300ms cubic-bezier(0.2, 0, 0.2, 1)}.hn{cursor:zoom-in}.ho{z-index:auto}.hp{transition:opacity 100ms 400ms}.hq{height:100%}.hr{will-change:transform}.hs{transform:translateZ(0)}.ht{margin:auto}.hu{background-color:rgba(0, 0, 0, 0.05)}.hv{padding-bottom:61.015625%}.hw{filter:blur(20px)}.hx{transform:scale(1.1)}.hy{visibility:visible}.hz{background:rgba(255, 255, 255, 1)}.ia{line-height:1.58}.ib{letter-spacing:-0.004em}.ic{font-family:medium-content-serif-font, Georgia, Cambria, "Times New Roman", Times, serif}.in{margin-bottom:-0.46em}.io{clear:left}.ip{float:left}.iq{font-size:66px}.ir{line-height:.83}.is{margin-right:12px}.iy{font-weight:700}.iz{font-style:italic}.ja{box-shadow:inset 3px 0 0 0 rgba(0, 0, 0, 0.84)}.jb{padding-left:23px}.jc{margin-left:-20px}.jd{max-width:288px}.je{padding-bottom:23.958333333333336%}.jf{list-style-type:disc}.jg{margin-left:30px}.jh{padding-left:0px}.jn{line-height:1.12}.jo{letter-spacing:-0.022em}.jp{font-weight:600}.jy{margin-bottom:-0.28em}.ke{max-width:1299px}.kf{padding-bottom:21.862971516551195%}.kg{padding:20px}.kh{background:rgba(0, 0, 0, 0.05)}.ki{line-height:1.18}.kj{font-family:Menlo, Monaco, "Courier New", Courier, monospace}.kk{margin-top:-0.09em}.kl{margin-bottom:-0.09em}.km{white-space:pre-wrap}.ks{background-repeat:repeat-x}.kt{background-image:linear-gradient(to right,rgba(0, 0, 0, 0.84) 100%,rgba(0, 0, 0, 0.84) 0);background-image:url('data:image/svg+xml;utf8,<svg preserveAspectRatio="none" viewBox="0 0 1 1" xmlns="http://www.w3.org/2000/svg"><line x1="0" y1="0" x2="1" y2="1" stroke="rgba(0, 0, 0, 0.84)" /></svg>')}.ku{background-size:1px 1px}.kv{background-position:0 1.05em;background-position:0 calc(1em + 1px)}.kw{max-width:1031px}.kx{padding-bottom:48.59359844810864%}.ky{max-width:641px}.kz{padding-bottom:95.94383775351014%}.la{max-width:947px}.lb{padding-bottom:65.99788806758183%}.lc{max-width:753px}.ld{padding-bottom:53.386454183266935%}.le{max-width:943px}.lf{padding-bottom:40.721102863202546%}.lg{max-width:1130px}.lh{padding-bottom:28.49557522123894%}.li{max-width:741px}.lj{padding-bottom:52.22672064777328%}.lk{max-width:923px}.ll{padding-bottom:80.931744312026%}.lm{max-width:925px}.ln{padding-bottom:83.78378378378378%}.lo{max-width:1418px}.lp{padding-bottom:37.51763046544429%}.lq{max-width:1214px}.lr{padding-bottom:51.48270181219111%}.ls{max-width:564px}.lt{padding-bottom:72.69503546099291%}.lu{max-width:965px}.lv{padding-bottom:73.8860103626943%}.lw{padding-left:30px}.lx{line-height:1.48}.ly{letter-spacing:-0.014em}.lz{color:rgba(0, 0, 0, 0.76)}.ma{font-size:24px}.mg{font-size:30px}.mh{line-height:44px}.mn{max-width:1142px}.mo{padding-bottom:58.14360770577933%}.mp{max-width:876px}.mq{padding-bottom:50.68493150684932%}.mr{max-width:603px}.ms{padding-bottom:79.60199004975124%}.mt{max-width:931px}.mu{padding-bottom:65.95059076262083%}.mv{max-width:1027px}.mw{padding-bottom:73.12560856864654%}.mx{will-change:opacity}.my{width:188px}.mz{left:50%}.na{transform:translateX(406px)}.nb{top:calc(65px + 54px + 14px)}.ne{top:calc(65px + 54px + 40px)}.ng{width:131px}.nh{padding-bottom:28px}.ni{border-bottom:1px solid rgba(0, 0, 0, 0.1)}.nj{font-size:18px}.nk{padding-bottom:20px}.nl{padding-top:2px}.nm{max-height:120px}.nn{-webkit-line-clamp:6}.no{padding-top:28px}.np{margin-bottom:19px}.nq{margin-left:-5px}.nr{margin-right:5px}.ns{outline:0}.nt{border:0}.nu{user-select:none}.nv{cursor:pointer}.nw> svg{pointer-events:none}.nx:active{border-style:none}.ny{-webkit-user-select:none}.nz:focus{fill:rgba(28, 153, 99, 1)}.oa{margin-top:5px}.ob button{text-align:left}.oc{margin-top:40px}.od{flex-wrap:wrap}.oe{margin-top:25px}.of{margin-right:8px}.og{margin-bottom:8px}.oh{border-radius:3px}.oi{padding:5px 10px}.oj{line-height:22px}.ok{margin-top:15px}.ol{border:1px solid rgba(0, 0, 0, 0.1)}.om{height:60px}.on{width:60px}.pa:active{border-style:solid}.pb{z-index:2}.pd{padding-top:32px}.pe{margin-bottom:25px}.pf{margin-bottom:32px}.pg{min-height:80px}.pl{width:80px}.pm{padding-left:102px}.po{letter-spacing:0.05em}.pp{margin-bottom:6px}.pq{font-size:28px}.pr{line-height:36px}.ps{max-width:555px}.pt{max-width:450px}.pu{line-height:24px}.pw{max-width:550px}.px{padding-top:25px}.py{opacity:1}.pz{border:1px solid rgba(2, 184, 117, 1)}.qa{text-align:center}.qb{margin-top:64px}.qc{background-color:rgba(0, 0, 0, 0.02)}.qd{padding:60px 0}.qe{background-color:rgba(0, 0, 0, 0.9)}.qv{padding-bottom:48px}.qw{border-bottom:1px solid rgba(255, 255, 255, 0.54)}.qx{margin:0 -12px}.qy{margin:0 12px}.qz{flex:1 1 0}.ra{padding-bottom:12px}.rb:hover{color:rgba(255, 255, 255, 0.99)}.rc:hover{fill:rgba(255, 255, 255, 0.99)}.rd:disabled{color:rgba(255, 255, 255, 0.7)}.re:disabled{fill:rgba(255, 255, 255, 0.7)}.rf{color:rgba(255, 255, 255, 0.98)}.rg{fill:rgba(255, 255, 255, 0.98)}.rh{text-align:inherit}.ri{font-size:21.6px}.rj{letter-spacing:-0.32px}.rk{color:rgba(255, 255, 255, 0.7)}.rl{fill:rgba(255, 255, 255, 0.7)}.rm{text-decoration:underline}.rn{padding-bottom:8px}.ro{padding-top:8px}.rp{width:200px}.rr{margin:15px 0}</style><style type="text/css" data-fela-rehydration="485" data-fela-type="RULE" media="all and (min-width: 1080px)">.d{display:none}.ah{margin:0 64px}.fo{font-size:40px}.fp{margin-top:0.78em}.fv{line-height:48px}.hb{margin-left:30px}.hk{margin-top:56px}.il{font-size:21px}.im{margin-top:2em}.ix{padding-top:7px}.jm{margin-top:1.05em}.jw{font-size:34px}.jx{margin-top:1.95em}.kd{margin-top:0.86em}.kr{margin-top:1.91em}.mf{margin-top:2.75em}.mm{margin-top:3.14em}.qs{padding-left:64px}.qt{padding-right:64px}.qu{max-width:1320px}</style><style type="text/css" data-fela-rehydration="485" data-fela-type="RULE" media="all and (max-width: 1079.98px)">.e{display:none}.ha{margin-left:30px}.qp{padding-left:64px}.qq{padding-right:64px}.qr{max-width:1080px}</style><style type="text/css" data-fela-rehydration="485" data-fela-type="RULE" media="all and (max-width: 903.98px)">.f{display:none}.cj{display:flex}.gz{margin-left:30px}.qm{padding-left:48px}.qn{padding-right:48px}.qo{max-width:904px}</style><style type="text/css" data-fela-rehydration="485" data-fela-type="RULE" media="all and (max-width: 727.98px)">.g{display:none}.am{height:56px}.an{display:flex}.cg{margin-left:10px}.ch{margin-right:10px}.dk{display:block}.ek{margin-bottom:0px}.el{height:110px}.fz{margin-top:32px}.ga{flex-direction:column-reverse}.gx{margin-bottom:30px}.gy{margin-left:0px}.ph{margin-bottom:24px}.pi{align-items:center}.pj{width:102px}.pk{position:relative}.pn{padding-left:0}.pv{margin-top:24px}.qf{padding:32px 0}.qj{padding-left:24px}.qk{padding-right:24px}.ql{max-width:728px}.rq{width:140px}</style><style type="text/css" data-fela-rehydration="485" data-fela-type="RULE" media="all and (max-width: 551.98px)">.h{display:none}.ac{margin:0 24px}.fg{font-size:30px}.fh{margin-top:0.72em}.fr{line-height:40px}.fy{margin-top:32px}.gf{margin-bottom:0px}.gv{margin-bottom:30px}.gw{margin-left:0px}.hg{margin-top:40px}.id{font-size:18px}.ie{margin-top:1.56em}.it{padding-top:0}.ji{margin-top:1.34em}.jq{margin-top:1.2em}.jz{margin-top:0.67em}.kn{margin-top:1.41em}.mb{margin-top:1.42em}.mi{margin-top:2em}.qg{padding-left:24px}.qh{padding-right:24px}.qi{max-width:552px}</style><style type="text/css" data-fela-rehydration="485" data-fela-type="RULE" media="all and (min-width: 904px) and (max-width: 1079.98px)">.i{display:none}.ag{margin:0 64px}.fm{font-size:40px}.fn{margin-top:0.78em}.fu{line-height:48px}.hj{margin-top:56px}.ij{font-size:21px}.ik{margin-top:2em}.iw{padding-top:7px}.jl{margin-top:1.05em}.ju{font-size:34px}.jv{margin-top:1.95em}.kc{margin-top:0.86em}.kq{margin-top:1.91em}.me{margin-top:2.75em}.ml{margin-top:3.14em}</style><style type="text/css" data-fela-rehydration="485" data-fela-type="RULE" media="all and (min-width: 728px) and (max-width: 903.98px)">.j{display:none}.af{margin:0 48px}.fk{font-size:40px}.fl{margin-top:0.78em}.ft{line-height:48px}.hi{margin-top:56px}.ih{font-size:21px}.ii{margin-top:2em}.iv{padding-top:7px}.jk{margin-top:1.05em}.js{font-size:34px}.jt{margin-top:1.95em}.kb{margin-top:0.86em}.kp{margin-top:1.91em}.md{margin-top:2.75em}.mk{margin-top:3.14em}</style><style type="text/css" data-fela-rehydration="485" data-fela-type="RULE" media="all and (min-width: 552px) and (max-width: 727.98px)">.k{display:none}.ae{margin:0 24px}.fi{font-size:30px}.fj{margin-top:0.72em}.fs{line-height:40px}.hh{margin-top:40px}.if{font-size:18px}.ig{margin-top:1.56em}.iu{padding-top:0}.jj{margin-top:1.34em}.jr{margin-top:1.2em}.ka{margin-top:0.67em}.ko{margin-top:1.41em}.mc{margin-top:1.42em}.mj{margin-top:2em}</style><style type="text/css" data-fela-rehydration="485" data-fela-type="RULE" media="print">.ab{display:none}</style><style type="text/css" data-fela-rehydration="485" data-fela-type="RULE" media="(prefers-reduced-motion: no-preference)">.y{transition:transform 300ms ease}.z{will-change:transform}.nc{transition:opacity 200ms}.oo{transition:border-color 150ms ease}.op::before{background:
      radial-gradient(circle, rgba(28, 153, 99, 1) 60%, transparent 70%)
    }.oq::before{border-radius:50%}.or::before{content:""}.os::before{display:block}.ot::before{z-index:0}.ou::before{left:0}.ov::before{height:100%}.ow::before{position:absolute}.ox::before{top:0}.oy::before{width:100%}.oz:hover::before{animation:k2 2000ms infinite cubic-bezier(.1,.12,.25,1)}.pc{transition:fill 200ms ease}</style><style type="text/css" data-fela-rehydration="485" data-fela-type="RULE" media="all and (max-width: 1230px)">.nd{display:none}</style><style type="text/css" data-fela-rehydration="485" data-fela-type="RULE" media="all and (max-width: 1198px)">.nf{display:none}</style></head><body><div id="root"><div class="a b c"><div class="d e f g h i j k"></div><script>document.domain = document.domain;</script><script>window.PARSELY = window.PARSELY || {autotrack: false}</script><nav class="r s t u v c w x y z ab"><div class="branch-journeys-top"><div class="r c"><div class="n p"><div class="ac ae af ag ah ai aj ak"><div class="al n o am an"><div class="n o ao w"><a href="https://medium.com/?source=post_page-----15f9cb3653b0----------------------" aria-label="Homepage" rel="noopener"><svg width="35" height="35" viewBox="5 5 35 35" class="q"><path d="M5 40V5h35v35H5zm8.56-12.63c0 .56-.03.69-.32 1.03L10.8 31.4v.4h6.97v-.4L15.3 28.4c-.29-.34-.34-.5-.34-1.03v-8.95l6.13 13.36h.71l5.26-13.36v10.64c0 .3 0 .35-.19.53l-1.85 1.8v.4h9.2v-.4l-1.83-1.8c-.18-.18-.2-.24-.2-.53V15.94c0-.3.02-.35.2-.53l1.82-1.8v-.4h-6.47l-4.62 11.55-5.2-11.54h-6.8v.4l2.15 2.63c.24.3.29.37.29.77v10.35z"></path></svg></a></div><div class="r ap w"><span class="aq b ar as at au r av aw"><div class="n o ax"><div class="n f"><div class="bf" aria-hidden="true"><div class="n"><button class="bo bp bq br bs bt bu bv bw bx by bz ca cb cc cd"><svg width="25" height="25" viewBox="0 0 25 25" class="ce cf r cg ch"><path d="M20.07 18.93l-4.16-4.15a6 6 0 1 0-.88.88l4.15 4.16a.62.62 0 1 0 .89-.89zM6.5 11a4.75 4.75 0 1 1 9.5 0 4.75 4.75 0 0 1-9.5 0z"></path></svg></button><input class="bg bh bi bj as bk bl bm bn" placeholder="Search Analytics Vidhya" value=""/></div></div></div><div class="ci cj"><a href="/search?source=post_page-----15f9cb3653b0----------------------" class="bo bp bq br bs bt bu bv bw bx by bz ca cb cc cd" rel="noopener"><svg width="25" height="25" viewBox="0 0 25 25" class="ce ck r cg ch"><path d="M20.07 18.93l-4.16-4.15a6 6 0 1 0-.88.88l4.15 4.16a.62.62 0 1 0 .89-.89zM6.5 11a4.75 4.75 0 1 1 9.5 0 4.75 4.75 0 0 1-9.5 0z"></path></svg></a></div><a class="bo bp bq br bs bt bu bv bw bx by bz ca cb cc cd" rel="noopener" href="/me/list/queue?source=post_page-----15f9cb3653b0----------------------"><svg width="25" height="25" viewBox="0 0 25 25" class="ck r g"><path d="M16 6a2 2 0 0 1 2 2v13.66h-.01a.5.5 0 0 1-.12.29.5.5 0 0 1-.7.03l-5.67-4.13-5.66 4.13a.5.5 0 0 1-.7-.03.48.48 0 0 1-.13-.29H5V8c0-1.1.9-2 2-2h9zM6 8v12.64l5.16-3.67a.49.49 0 0 1 .68 0L17 20.64V8a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z"></path><path d="M21 5v13.66h-.01a.5.5 0 0 1-.12.29.5.5 0 0 1-.7.03l-.17-.12V5a1 1 0 0 0-1-1h-9a1 1 0 0 0-1 1H8c0-1.1.9-2 2-2h9a2 2 0 0 1 2 2z"></path></svg></a><div class="ck n ch"><div class="bf" aria-hidden="true"><button class="bo bp bq br bs bt bu bv bw bx by bz ca cb cc cd r"><svg width="25" height="25" viewBox="-293 409 25 25" class="rr r"><path d="M-273.33 423.67l-1.67-1.52v-3.65a5.5 5.5 0 0 0-6.04-5.47 5.66 5.66 0 0 0-4.96 5.71v3.41l-1.68 1.55a1 1 0 0 0-.32.74V427a1 1 0 0 0 1 1h3.49a3.08 3.08 0 0 0 3.01 2.45 3.08 3.08 0 0 0 3.01-2.45h3.49a1 1 0 0 0 1-1v-2.59a1 1 0 0 0-.33-.74zm-7.17 5.63c-.84 0-1.55-.55-1.81-1.3h3.62a1.92 1.92 0 0 1-1.81 1.3zm6.35-2.45h-12.7v-2.35l1.63-1.5c.24-.22.37-.53.37-.85v-3.41a4.51 4.51 0 0 1 3.92-4.57 4.35 4.35 0 0 1 4.78 4.33v3.65c0 .32.14.63.38.85l1.62 1.48v2.37z"></path></svg></button></div></div><div class="cl" id="li-post-page-navbar-upsell-button"><div class="ck r g"><div><a href="https://medium.com/membership?source=upgrade_membership---nav_full------------------------" class="cm cn q co cp cq cr cs bx cc ct cu cv cw cx cy cz aq b ar as at au da db dc bf dd ca" rel="noopener">Upgrade</a></div></div></div><div class="n" aria-hidden="true"><div class="de df n o"><button class="bo bp bq br bs bt bu bv bw bx by bz ca cb cc cd"><img alt="Rebecca Yu" class="r dg dh di" src="https://miro.medium.com/fit/c/64/64/0*xb8xgsH6Zzsl8K15" width="32" height="32"/></button></div></div></div></span></div></div></div></div></div><div class="dj r c dk"><div class="n p"><div class="ac ae af ag ah ai aj ak"><div class="dl bd n o"><div class="dm r ap"><a href="/analytics-vidhya?source=post_page-----15f9cb3653b0----------------------" rel="noopener"><div class="dn do r"><img alt="Analytics Vidhya" class="" src="https://miro.medium.com/max/290/1*cK8jYS5H7rDYhb0vZkW4NA.png" width="145" height="36"/></div></a></div><div class="dp r dq"><ul class="dr bw ds be dt n du g dv dw dx"><li class="n o dy dz ea eb"><span class="aq ee ef as av eg eh"><a href="https://medium.com/analytics-vidhya/about?source=post_page-----15f9cb3653b0----------------------" class="bo bp bq br bs bt bu bv bw bx by bz ca cb cc cd" rel="noopener">About Us</a></span></li><li class="n o dy dz ea eb"><span class="aq ee ef as av eg eh"><a href="https://medium.com/analytics-vidhya/tagged/machine-learning?source=post_page-----15f9cb3653b0----------------------" class="bo bp bq br bs bt bu bv bw bx by bz ca cb cc cd" rel="noopener">Machine Learning</a></span></li><li class="n o dy dz ea eb"><span class="aq ee ef as av eg eh"><a href="https://medium.com/analytics-vidhya/tagged/deep-learning?source=post_page-----15f9cb3653b0----------------------" class="bo bp bq br bs bt bu bv bw bx by bz ca cb cc cd" rel="noopener">Deep Learning</a></span></li><li class="n o dy dz ea eb"><span class="aq ee ef as av eg eh"><a href="https://medium.com/analytics-vidhya/tagged/hackathons?source=post_page-----15f9cb3653b0----------------------" class="bo bp bq br bs bt bu bv bw bx by bz ca cb cc cd" rel="noopener">Hackathons</a></span></li><li class="n o dy dz ea eb"><span class="aq ee ef as av eg eh"><a href="https://medium.com/analytics-vidhya/contribute/home?source=post_page-----15f9cb3653b0----------------------" class="bo bp bq br bs bt bu bv bw bx by bz ca cb cc cd" rel="noopener">Contribute</a></span></li><span class="dy ec ed"></span><li class="n o dy dz ea eb"><span class="aq ee ef as av eg eh"><a href="https://courses.analyticsvidhya.com/?source=post_page-----15f9cb3653b0----------------------" class="bo bp bq br bs bt bu bv bw bx by bz ca cb cc cd" rel="noopener nofollow">Courses</a></span></li></ul></div></div></div></div></div></div></nav><div class="ei ej r ek el"></div><article class="meteredContent"><section class="em en eo ep ak eq dc n er"></section><span class="r"></span><div><div class="es u et eu ev ew"></div><section class="ex ey ez fa fb"><div class="n p"><div class="ac ae af ag ah fc aj ak"><div><div id="ca7c" class="fd fe cn ar ff b fg fh fi fj fk fl fm fn fo fp fq"><h1 class="ff b fg fr fi fs fk ft fm fu fo fv cn">Integrated Approach of RFM, Clustering, CLTV &amp; Machine Learning Algorithms for Forecasting: an example with Python coding</h1></div><div class="fw"><div class="n fx fy fz ga"><div class="o n"><div><a rel="noopener" href="/@sarit.maitra?source=post_page-----15f9cb3653b0----------------------"><img alt="Sarit Maitra" class="r dg gb gc" src="https://miro.medium.com/fit/c/96/96/2*EF7JY4esV1_vtgjeCREHCQ.jpeg" width="48" height="48"/></a></div><div class="gd ak r"><div class="n"><div style="flex:1"><span class="aq b ar as at au r cn q"><div class="ge n o gf"><span class="aq ee bj as bd gg bc gh gi gj cn"><a class="bo bp bq br bs bt bu bv bw bx gk ca cb cc cd" rel="noopener" href="/@sarit.maitra?source=post_page-----15f9cb3653b0----------------------">Sarit Maitra</a></span><div class="gl r ap h"><button class="gm co gn go gp gq gr gs bx cz aq b ar gt ef au da db dc bf dd ca">Follow</button></div></div></span></div></div><span class="aq b ar as at au r av aw"><span class="aq ee bj as bd gg bc gh gi gj av"><div><a class="bo bp bq br bs bt bu bv bw bx gk ca cb cc cd" rel="noopener" href="/analytics-vidhya/integrated-approach-of-rfm-clustering-cltv-machine-learning-algorithm-15f9cb3653b0?source=post_page-----15f9cb3653b0----------------------">Oct 3, 2019</a> <!-- -->·<!-- --> <!-- -->9<!-- --> min read<span style="padding-left:4px"><svg class="star-15px_svg__svgIcon-use" width="15" height="15" viewBox="0 0 15 15" style="margin-top:-2px"><path d="M7.44 2.32c.03-.1.09-.1.12 0l1.2 3.53a.29.29 0 0 0 .26.2h3.88c.11 0 .13.04.04.1L9.8 8.33a.27.27 0 0 0-.1.29l1.2 3.53c.03.1-.01.13-.1.07l-3.14-2.18a.3.3 0 0 0-.32 0L4.2 12.22c-.1.06-.14.03-.1-.07l1.2-3.53a.27.27 0 0 0-.1-.3L2.06 6.16c-.1-.06-.07-.12.03-.12h3.89a.29.29 0 0 0 .26-.19l1.2-3.52z"></path></svg></span></div></span></span></div></div><div class="n gu gv gw gx gy gz ha hb ab"><div class="n o"><div class="hc r ap"><a href="//medium.com/p/15f9cb3653b0/share/twitter?source=post_actions_header---------------------------" class="bo bp bq br bs bt bu bv bw bx by bz ca cb cc cd" target="_blank" rel="noopener nofollow"><svg width="29" height="29" class="q"><path d="M22.05 7.54a4.47 4.47 0 0 0-3.3-1.46 4.53 4.53 0 0 0-4.53 4.53c0 .35.04.7.08 1.05A12.9 12.9 0 0 1 5 6.89a5.1 5.1 0 0 0-.65 2.26c.03 1.6.83 2.99 2.02 3.79a4.3 4.3 0 0 1-2.02-.57v.08a4.55 4.55 0 0 0 3.63 4.44c-.4.08-.8.13-1.21.16l-.81-.08a4.54 4.54 0 0 0 4.2 3.15 9.56 9.56 0 0 1-5.66 1.94l-1.05-.08c2 1.27 4.38 2.02 6.94 2.02 8.3 0 12.86-6.9 12.84-12.85.02-.24 0-.43 0-.65a8.68 8.68 0 0 0 2.26-2.34c-.82.38-1.7.62-2.6.72a4.37 4.37 0 0 0 1.95-2.51c-.84.53-1.81.9-2.83 1.13z"></path></svg></a></div><div class="hc r ap"><a href="//medium.com/p/15f9cb3653b0/share/facebook?source=post_actions_header---------------------------" class="bo bp bq br bs bt bu bv bw bx by bz ca cb cc cd" target="_blank" rel="noopener nofollow"><svg width="29" height="29" class="q"><path d="M23.2 5H5.8a.8.8 0 0 0-.8.8V23.2c0 .44.35.8.8.8h9.3v-7.13h-2.38V13.9h2.38v-2.38c0-2.45 1.55-3.66 3.74-3.66 1.05 0 1.95.08 2.2.11v2.57h-1.5c-1.2 0-1.48.57-1.48 1.4v1.96h2.97l-.6 2.97h-2.37l.05 7.12h5.1a.8.8 0 0 0 .79-.8V5.8a.8.8 0 0 0-.8-.79"></path></svg></a></div><div class="hd r ao"><div><div class="he"><div><div class="bf" role="tooltip" aria-hidden="true"><button class="bo bp bq br bs bt bu bv bw bx by bz ca cb cc cd"><svg width="25" height="25" viewBox="0 0 25 25"><path d="M19 6a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v14.66h.01c.01.1.05.2.12.28a.5.5 0 0 0 .7.03l5.67-4.12 5.66 4.13a.5.5 0 0 0 .71-.03.5.5 0 0 0 .12-.29H19V6zm-6.84 9.97L7 19.64V6a1 1 0 0 1 1-1h9a1 1 0 0 1 1 1v13.64l-5.16-3.67a.49.49 0 0 0-.68 0z" fill-rule="evenodd"></path></svg></button></div></div></div></div></div></div></div></div></div></div><figure class="hg hh hi hj hk hl eo ep paragraph-image"><div class="hm hn bl ho ak"><div class="eo ep hf"><div class="ht r bl hu"><div class="hv r"><div class="bk hp es t u hq ak bd hr hs"><img class="es t u hq ak hw hx hy" src="https://miro.medium.com/max/60/1*1hewbDXYm6XqcBsO-O31Gw.jpeg?q=20" width="1280" height="781" role="presentation"/></div><img class="bk hp es t u hq ak hz" width="1280" height="781" role="presentation"/><noscript><img class="es t u hq ak" src="https://miro.medium.com/max/2560/1*1hewbDXYm6XqcBsO-O31Gw.jpeg" width="1280" height="781" role="presentation"/></noscript></div></div></div></div></figure><p id="7786" class="ia ib cn ar ic b id ie if ig ih ii ij ik il im in io ex"><span class="r ip iq ir is it iu iv iw ix bl">C</span><strong class="ic iy">LTV</strong> is a customer relationship management (CRM) issue with an enterprise approach to understanding and influencing customer behavior through meaningful communication to improve customer acquisition, customer retention, customer loyalty, and customer profitability. The whole idea is that, business wants to predict the average amount of $$ customers will spend on the business over the entire life of relationship.</p><p id="af8a" class="ia ib cn ar ic b id ie if ig ih ii ij ik il im in ex">Although statistical methods can be very powerful, but these methods make several stringent assumptions on the types of data and their distribution, and typically can only handle a limited number of variables. Regression-based methods are usually based on a ﬁxed-form equation, and assume a single best solution, which means that we can compare only a few alternative solutions manually. Further, when the models are applied to real data, the key assumptions of the methods are often violated. Here, I will show <strong class="ic iy"><em class="iz">Machine Learning </em></strong>(ML) methods by integrating the <strong class="ic iy"><em class="iz">CLTV</em></strong> and customer transaction variables with the <strong class="ic iy"><em class="iz">RFM</em></strong> variables to forecast consumer purchases.</p><p id="4abf" class="ia ib cn ar ic b id ie if ig ih ii ij ik il im in ex">I will use two approaches here —</p><blockquote class="ja jb jc"><p id="65c4" class="ia ib cn iz ic b id ie if ig ih ii ij ik il im in ex">1st approach- <strong class="ic iy">RFM (Recency, Frequency, and Monetary)</strong> marketing analysis method is used in order to segmentation of customers and</p><p id="cff1" class="ia ib cn iz ic b id ie if ig ih ii ij ik il im in ex">2nd approach using <strong class="ic iy">Customer Lifetime Value (CLTV) </strong>will train a <strong class="ic iy">ML </strong>algorithm for <strong class="ic iy">prediction</strong>. I will use 3 months of data to calculate <strong class="ic iy">RFM </strong>and use it for predicting next 6 months.</p></blockquote><p id="e799" class="ia ib cn ar ic b id ie if ig ih ii ij ik il im in ex"><strong class="ic iy"><em class="iz">RFM</em></strong> is a scoring model attempt to predict customers’ behavior in the future and implicitly linked to <strong class="ic iy"><em class="iz">CLTV</em></strong>. One key limitation of <strong class="ic iy"><em class="iz">RFM</em></strong> models is that they are scoring models and do not explicitly provide a $ number for customer value. A simple equation to derive <strong class="ic iy"><em class="iz">CLTV</em></strong> for a customer</p><figure class="hg hh hi hj hk hl eo ep paragraph-image"><div class="eo ep jd"><div class="ht r bl hu"><div class="je r"><div class="bk hp es t u hq ak bd hr hs"><img class="es t u hq ak hw hx hy" src="https://miro.medium.com/max/60/1*GXgNCsSTFH4KeFdoanA1Cg.png?q=20" width="288" height="69" role="presentation"/></div><img class="bk hp es t u hq ak hz" width="288" height="69" role="presentation"/><noscript><img class="es t u hq ak" src="https://miro.medium.com/max/576/1*GXgNCsSTFH4KeFdoanA1Cg.png" width="288" height="69" role="presentation"/></noscript></div></div></div></figure><ul class=""><li id="e780" class="ia ib cn ar ic b id ie if ig ih ii ij ik il im in jf jg jh">pt= price paid by a consumer at time t,</li><li id="6ecb" class="ia ib cn ar ic b id ji if jj ih jk ij jl il jm in jf jg jh">ct = direct cost of servicing the customer at time t,</li><li id="1af8" class="ia ib cn ar ic b id ji if jj ih jk ij jl il jm in jf jg jh">i = discount rate or cost of capital for the firm,</li><li id="204d" class="ia ib cn ar ic b id ji if jj ih jk ij jl il jm in jf jg jh">rt = probability of customer repeat buying or being “alive” at time t,</li><li id="c3ce" class="ia ib cn ar ic b id ji if jj ih jk ij jl il jm in jf jg jh">AC = acquisition cost, and</li><li id="9eb7" class="ia ib cn ar ic b id ji if jj ih jk ij jl il jm in jf jg jh">T = time horizon for estimating <strong class="ic iy"><em class="iz">CLTV</em></strong>.</li></ul><h1 id="2173" class="jn jo cn ar aq jp fg jq fi jr js jt ju jv jw jx jy">Data Mining</h1><p id="b66f" class="ia ib cn ar ic b id jz if ka ih kb ij kc il kd in ex">Let’s load and see the data.</p><figure class="hg hh hi hj hk hl eo ep paragraph-image"><div class="hm hn bl ho ak"><div class="eo ep ke"><div class="ht r bl hu"><div class="kf r"><div class="bk hp es t u hq ak bd hr hs"><img class="es t u hq ak hw hx hy" src="https://miro.medium.com/max/60/1*6ODjcx3C8B9cMS6ySR9FQg.png?q=20" width="1299" height="284" role="presentation"/></div><img class="bk hp es t u hq ak hz" width="1299" height="284" role="presentation"/><noscript><img class="es t u hq ak" src="https://miro.medium.com/max/2598/1*6ODjcx3C8B9cMS6ySR9FQg.png" width="1299" height="284" role="presentation"/></noscript></div></div></div></div></figure><p id="c7ad" class="ia ib cn ar ic b id ie if ig ih ii ij ik il im in ex">We have all the necessary information that we need:</p><ul class=""><li id="f8f7" class="ia ib cn ar ic b id ie if ig ih ii ij ik il im in jf jg jh">Customer ID</li><li id="77a6" class="ia ib cn ar ic b id ji if jj ih jk ij jl il jm in jf jg jh">Unit Price</li><li id="b219" class="ia ib cn ar ic b id ji if jj ih jk ij jl il jm in jf jg jh">Quantity</li><li id="1e44" class="ia ib cn ar ic b id ji if jj ih jk ij jl il jm in jf jg jh">Invoice Date</li></ul><p id="8d9e" class="ia ib cn ar ic b id ie if ig ih ii ij ik il im in ex">With all these features, we can build the equation for Monetary value= <em class="iz">Active Customer Count * Order Count * Average Revenue per Order</em></p><pre class="hg hh hi hj hk kg kh dt"><span id="ed8a" class="ki jo cn ar kj b bj kk kl r km">df[‘InvoiceDate’] = pd.to_datetime(df[‘InvoiceDate’]) #convert the type of Invoice Date Field from string to datetime.</span><span id="0bce" class="ki jo cn ar kj b bj kn ko kp kq kr kl r km">df[‘InvoiceYearMonth’] = df[‘InvoiceDate’].map(lambda date: 100*date.year + date.month) #create YearMonth field</span><span id="9273" class="ki jo cn ar kj b bj kn ko kp kq kr kl r km">df[‘Monetary’] = df[‘UnitPrice’] * df[‘Quantity’] #calculate Monetary for each row and create a new data frame with YearMonth — Monetary columns</span><span id="e870" class="ki jo cn ar kj b bj kn ko kp kq kr kl r km">monetary = df.groupby([‘InvoiceYearMonth’])[‘Monetary’].sum().reset_index()</span></pre><p id="219a" class="ia ib cn ar ic b id ie if ig ih ii ij ik il im in ex">Before we dive into <strong class="ic iy"><em class="iz">RFM</em></strong> score, we can do some analysis to know more about customer behavior such as Monthly Active Customers/ Monthly Order Count/Average Revenue per Order /New Customer Ratio/ Monthly Customer Retention Rate etc. Interested may visit <a href="https://github.com/saritmaitra/Segmentation-Clustering/blob/master/RFM_%26_XGB.ipynb" class="bo dd ks kt ku kv" target="_blank" rel="noopener nofollow"><strong class="ic iy"><em class="iz">here</em></strong></a> to know about the such analysis. So, I will start with segmentation.</p><h1 id="a89a" class="jn jo cn ar aq jp fg jq fi jr js jt ju jv jw jx jy">Customer Segmentation</h1><p id="7ae1" class="ia ib cn ar ic b id jz if ka ih kb ij kc il kd in ex">Let’s assume some common segments-</p><ul class=""><li id="5642" class="ia ib cn ar ic b id ie if ig ih ii ij ik il im in jf jg jh">Low Value- Customers who are less active than others, not very frequent buyer/visitor and generates very low — zero — maybe negative revenue.</li><li id="5758" class="ia ib cn ar ic b id ji if jj ih jk ij jl il jm in jf jg jh">Mid Value- Customers who are fairly frequent and generates moderate revenue.</li><li id="b6c0" class="ia ib cn ar ic b id ji if jj ih jk ij jl il jm in jf jg jh">High Value- Customers with High Revenue, Frequency and low Inactivity; business always want to retain these customers.</li></ul><p id="dee5" class="ia ib cn ar ic b id ie if ig ih ii ij ik il im in ex">We shall calculate <strong class="ic iy"><em class="iz">RFM</em></strong> Value and apply unsupervised ML to identify different clusters for each by applyting <strong class="ic iy"><em class="iz">K-means</em></strong> clustering to assign a <strong class="ic iy"><em class="iz">recency </em></strong>score. Number of clusters generally defined by business, we need to <strong class="ic iy"><em class="iz">K-means</em></strong> algorithm. However, <strong class="ic iy"><em class="iz">Elbow Method</em></strong> of <strong class="ic iy"><em class="iz">K-means</em></strong> helps us to know the optimal cluster number.</p><h1 id="fca6" class="jn jo cn ar aq jp fg jq fi jr js jt ju jv jw jx jy">Recency</h1><p id="7718" class="ia ib cn ar ic b id jz if ka ih kb ij kc il kd in ex">To calculate <strong class="ic iy"><em class="iz">recency</em></strong>, we need to find out most recent purchase date of each customer and see how many days they are inactive for. After having no. of inactive days for each customer, we will apply <strong class="ic iy"><em class="iz">K-means</em></strong> clustering to assign customers a <strong class="ic iy"><em class="iz">recency</em></strong> score.</p><figure class="hg hh hi hj hk hl eo ep paragraph-image"><div class="hm hn bl ho ak"><div class="eo ep kw"><div class="ht r bl hu"><div class="kx r"><div class="bk hp es t u hq ak bd hr hs"><img class="es t u hq ak hw hx hy" src="https://miro.medium.com/max/60/1*aPJQQzz31t1W4robPpCjjQ.png?q=20" width="1031" height="501" role="presentation"/></div><img class="bk hp es t u hq ak hz" width="1031" height="501" role="presentation"/><noscript><img class="es t u hq ak" src="https://miro.medium.com/max/2062/1*aPJQQzz31t1W4robPpCjjQ.png" width="1031" height="501" role="presentation"/></noscript></div></div></div></div></figure><figure class="hg hh hi hj hk hl eo ep paragraph-image"><div class="eo ep ky"><div class="ht r bl hu"><div class="kz r"><div class="bk hp es t u hq ak bd hr hs"><img class="es t u hq ak hw hx hy" src="https://miro.medium.com/max/60/1*nswCdx0cC1505k2oCayxgw.png?q=20" width="641" height="615" role="presentation"/></div><img class="bk hp es t u hq ak hz" width="641" height="615" role="presentation"/><noscript><img class="es t u hq ak" src="https://miro.medium.com/max/1282/1*nswCdx0cC1505k2oCayxgw.png" width="641" height="615" role="presentation"/></noscript></div></div></div></figure><p id="f938" class="ia ib cn ar ic b id ie if ig ih ii ij ik il im in ex">Here it looks we have 3 clusters. Based on business requirements, we can go with less or more clusters. Let us select 4 for this example:</p><figure class="hg hh hi hj hk hl eo ep paragraph-image"><div class="hm hn bl ho ak"><div class="eo ep la"><div class="ht r bl hu"><div class="lb r"><div class="bk hp es t u hq ak bd hr hs"><img class="es t u hq ak hw hx hy" src="https://miro.medium.com/max/60/1*8P3K63Ny__BJrNC6Y28MQQ.png?q=20" width="947" height="625" role="presentation"/></div><img class="bk hp es t u hq ak hz" width="947" height="625" role="presentation"/><noscript><img class="es t u hq ak" src="https://miro.medium.com/max/1894/1*8P3K63Ny__BJrNC6Y28MQQ.png" width="947" height="625" role="presentation"/></noscript></div></div></div></div></figure><figure class="hg hh hi hj hk hl eo ep paragraph-image"><div class="hm hn bl ho ak"><div class="eo ep lc"><div class="ht r bl hu"><div class="ld r"><div class="bk hp es t u hq ak bd hr hs"><img class="es t u hq ak hw hx hy" src="https://miro.medium.com/max/60/1*G_1M2Sd2LHWlj6MzM61Pvw.png?q=20" width="753" height="402" role="presentation"/></div><img class="bk hp es t u hq ak hz" width="753" height="402" role="presentation"/><noscript><img class="es t u hq ak" src="https://miro.medium.com/max/1506/1*G_1M2Sd2LHWlj6MzM61Pvw.png" width="753" height="402" role="presentation"/></noscript></div></div></div></div></figure><p id="f8b6" class="ia ib cn ar ic b id ie if ig ih ii ij ik il im in ex">Likewise, we can do<strong class="ic iy"><em class="iz"> Frequency</em></strong> and <strong class="ic iy"><em class="iz">Monetary</em></strong> and finally the Overall Score.</p><figure class="hg hh hi hj hk hl eo ep paragraph-image"><div class="hm hn bl ho ak"><div class="eo ep le"><div class="ht r bl hu"><div class="lf r"><div class="bk hp es t u hq ak bd hr hs"><img class="es t u hq ak hw hx hy" src="https://miro.medium.com/max/60/1*Jx8NNI16xjHzPO4Lra5vrg.png?q=20" width="943" height="384" role="presentation"/></div><img class="bk hp es t u hq ak hz" width="943" height="384" role="presentation"/><noscript><img class="es t u hq ak" src="https://miro.medium.com/max/1886/1*Jx8NNI16xjHzPO4Lra5vrg.png" width="943" height="384" role="presentation"/></noscript></div></div></div></div></figure><p id="ef18" class="ia ib cn ar ic b id ie if ig ih ii ij ik il im in ex">We divide these cluster in High/Mid/Low — 0 to 2- Low / 3 to 4- Value / 5+- High Value customers</p><figure class="hg hh hi hj hk hl eo ep paragraph-image"><div class="hm hn bl ho ak"><div class="eo ep lg"><div class="ht r bl hu"><div class="lh r"><div class="bk hp es t u hq ak bd hr hs"><img class="es t u hq ak hw hx hy" src="https://miro.medium.com/max/60/1*p9tcVZ1Lvrm4BpN61hkVxw.png?q=20" width="1130" height="322" role="presentation"/></div><img class="bk hp es t u hq ak hz" width="1130" height="322" role="presentation"/><noscript><img class="es t u hq ak" src="https://miro.medium.com/max/2260/1*p9tcVZ1Lvrm4BpN61hkVxw.png" width="1130" height="322" role="presentation"/></noscript></div></div></div></div></figure><p id="bfab" class="ia ib cn ar ic b id ie if ig ih ii ij ik il im in ex">The descriptive statistics of the respective <strong class="ic iy"><em class="iz">RFM</em></strong> is show below—</p><figure class="hg hh hi hj hk hl eo ep paragraph-image"><div class="hm hn bl ho ak"><div class="eo ep li"><div class="ht r bl hu"><div class="lj r"><div class="bk hp es t u hq ak bd hr hs"><img class="es t u hq ak hw hx hy" src="https://miro.medium.com/max/60/1*ygJZpsOtr6Sq3UDa7NqStA.png?q=20" width="741" height="387" role="presentation"/></div><img class="bk hp es t u hq ak hz" width="741" height="387" role="presentation"/><noscript><img class="es t u hq ak" src="https://miro.medium.com/max/1482/1*ygJZpsOtr6Sq3UDa7NqStA.png" width="741" height="387" role="presentation"/></noscript></div></div></div></div></figure><p id="95a3" class="ia ib cn ar ic b id ie if ig ih ii ij ik il im in ex">We see that even though the average is 90 day recency, median is 49. Negative Monetary value at min indicating return of items. The test statistic values and below distribution &amp; QQ plots confirm that data set do not follow a normal distribution. Therefore, the use of nonparametric <br/>framework for making predictions is justified.</p><figure class="hg hh hi hj hk hl eo ep paragraph-image"><div class="hm hn bl ho ak"><div class="eo ep lk"><div class="ht r bl hu"><div class="ll r"><div class="bk hp es t u hq ak bd hr hs"><img class="es t u hq ak hw hx hy" src="https://miro.medium.com/max/60/1*sHeomamDA0CgpOyZUJNlKQ.png?q=20" width="923" height="747" role="presentation"/></div><img class="bk hp es t u hq ak hz" width="923" height="747" role="presentation"/><noscript><img class="es t u hq ak" src="https://miro.medium.com/max/1846/1*sHeomamDA0CgpOyZUJNlKQ.png" width="923" height="747" role="presentation"/></noscript></div></div></div></div></figure><figure class="hg hh hi hj hk hl eo ep paragraph-image"><div class="hm hn bl ho ak"><div class="eo ep lm"><div class="ht r bl hu"><div class="ln r"><div class="bk hp es t u hq ak bd hr hs"><img class="es t u hq ak hw hx hy" src="https://miro.medium.com/max/60/1*088DM6rYKPTzdIRJyHvPwQ.png?q=20" width="925" height="775" role="presentation"/></div><img class="bk hp es t u hq ak hz" width="925" height="775" role="presentation"/><noscript><img class="es t u hq ak" src="https://miro.medium.com/max/1850/1*088DM6rYKPTzdIRJyHvPwQ.png" width="925" height="775" role="presentation"/></noscript></div></div></div></div></figure><p id="081f" class="ia ib cn ar ic b id ie if ig ih ii ij ik il im in ex">Evidences from the statistical tests imply that data characterized by their nonparametric nature behavior. This justifies the deployment of advanced ML<br/>and deep learning algorithms for predictive modeling exercise. However, I have not exercised deep learning algorithm here.</p><p id="7288" class="ia ib cn ar ic b id ie if ig ih ii ij ik il im in ex">We can start taking actions with this segmentation. The strategies are simple for all three classes:</p><ul class=""><li id="62dd" class="ia ib cn ar ic b id ie if ig ih ii ij ik il im in jf jg jh">Improve retention of High Value customer</li><li id="4067" class="ia ib cn ar ic b id ji if jj ih jk ij jl il jm in jf jg jh">Improve retention and increase frequency of Mid Value customer</li><li id="d79b" class="ia ib cn ar ic b id ji if jj ih jk ij jl il jm in jf jg jh">Increase Frequency of Low Value customer</li></ul><h1 id="8c16" class="jn jo cn ar aq jp fg jq fi jr js jt ju jv jw jx jy">Customer Lifetime Value (CLTV)</h1><p id="7584" class="ia ib cn ar ic b id jz if ka ih kb ij kc il kd in ex"><strong class="ic iy"><em class="iz">CLTV</em></strong> is quite simple here. First we will select a time window anything from 3, 6, 12, or 24 months. We can have compute the <strong class="ic iy"><em class="iz">CLTV</em></strong> for each customer in that specific time window with an equation: <strong class="ic iy"><em class="iz">Total Gross Revenue -Total Cost</em></strong>. This equation based on historical data and gives us the historical value. If we see some customers having very high negative lifetime value historically then probably we are too late to take an action. Let’s use ML<strong class="ic iy"><em class="iz"> </em></strong>algorithm to predict.</p><h1 id="e713" class="jn jo cn ar aq jp fg jq fi jr js jt ju jv jw jx jy">CLTV Prediction</h1><p id="71f7" class="ia ib cn ar ic b id jz if ka ih kb ij kc il kd in ex">So, let’s follow the steps-</p><ul class=""><li id="fb4a" class="ia ib cn ar ic b id ie if ig ih ii ij ik il im in jf jg jh">Define an appropriate time frame for <strong class="ic iy"><em class="iz">CLTV</em></strong> calculation</li><li id="405d" class="ia ib cn ar ic b id ji if jj ih jk ij jl il jm in jf jg jh">Identify the features we are going to use to predict future and create them</li><li id="5732" class="ia ib cn ar ic b id ji if jj ih jk ij jl il jm in jf jg jh">Calculate <strong class="ic iy"><em class="iz">CLTV</em></strong> for training the ML model</li><li id="5fe3" class="ia ib cn ar ic b id ji if jj ih jk ij jl il jm in jf jg jh">Build and run the ML model</li><li id="1bb5" class="ia ib cn ar ic b id ji if jj ih jk ij jl il jm in jf jg jh">Check if the model is useful</li></ul><p id="f9eb" class="ia ib cn ar ic b id ie if ig ih ii ij ik il im in ex">We already have obtained the <strong class="ic iy"><em class="iz">RFM</em></strong> scores for each customer ID. To implement it correctly, let’s split our dataset. I will take 3 months of data, calculate <strong class="ic iy"><em class="iz">RFM</em></strong> and use it for predicting next 6 months.</p><blockquote class="ja jb jc"><p id="4e3e" class="ia ib cn iz ic b id ie if ig ih ii ij ik il im in ex">#create 3m and 6m dataframes<br/>m3 = DF_uk[(DF_uk.InvoiceDate &lt; date(2011,6,1)) &amp; (DF_uk.InvoiceDate &gt;= date(2011,3,1))].reset_index(drop=True)<br/>m6 = DF_uk[(DF_uk.InvoiceDate &gt;= date(2011,6,1)) &amp; (DF_uk.InvoiceDate &lt; date(2011,12,1))].reset_index(drop=True)</p></blockquote><p id="2b03" class="ia ib cn ar ic b id ie if ig ih ii ij ik il im in ex">Now, the similar process of clustering, computing <strong class="ic iy"><em class="iz">RFM</em></strong> and overall scoring of each data frame and finally merging the 3 months and 6 months data frames to see correlations between <strong class="ic iy"><em class="iz">CLTV</em></strong> and the feature set we have.</p><figure class="hg hh hi hj hk hl eo ep paragraph-image"><div class="hm hn bl ho ak"><div class="eo ep lo"><div class="ht r bl hu"><div class="lp r"><div class="bk hp es t u hq ak bd hr hs"><img class="es t u hq ak hw hx hy" src="https://miro.medium.com/max/60/1*WW257W-BBrszDfQ2iT2C8Q.png?q=20" width="1418" height="532" role="presentation"/></div><img class="bk hp es t u hq ak hz" width="1418" height="532" role="presentation"/><noscript><img class="es t u hq ak" src="https://miro.medium.com/max/2836/1*WW257W-BBrszDfQ2iT2C8Q.png" width="1418" height="532" role="presentation"/></noscript></div></div></div></div></figure><p id="9a19" class="ia ib cn ar ic b id ie if ig ih ii ij ik il im in ex">Here, by applying K-means clustering, we can identify the existing <strong class="ic iy"><em class="iz">CLTV</em></strong> groups and build segments on top of it. Considering business part of this analysis, we need to treat customers differently based on their predicted <strong class="ic iy"><em class="iz">CLTV</em></strong>. For this example, we will apply clustering and have 3 segments (number of segments really depends on your business dynamics and goals):<br/>- Low <strong class="ic iy"><em class="iz">CLTV</em></strong><br/>- Mid <strong class="ic iy"><em class="iz">CLTV</em></strong><br/>- High <strong class="ic iy"><em class="iz">CLTV</em></strong></p><p id="8a36" class="ia ib cn ar ic b id ie if ig ih ii ij ik il im in ex">We are going to apply K-means clustering to decide segments and observe their characteristics:</p><figure class="hg hh hi hj hk hl eo ep paragraph-image"><div class="hm hn bl ho ak"><div class="eo ep lq"><div class="ht r bl hu"><div class="lr r"><div class="bk hp es t u hq ak bd hr hs"><img class="es t u hq ak hw hx hy" src="https://miro.medium.com/max/60/1*Z-6DaWbJh2Ee5qWqSETzzQ.png?q=20" width="1214" height="625" role="presentation"/></div><img class="bk hp es t u hq ak hz" width="1214" height="625" role="presentation"/><noscript><img class="es t u hq ak" src="https://miro.medium.com/max/2428/1*Z-6DaWbJh2Ee5qWqSETzzQ.png" width="1214" height="625" role="presentation"/></noscript></div></div></div></div></figure><p id="c2c3" class="ia ib cn ar ic b id ie if ig ih ii ij ik il im in ex">2 is the best with average 8.2k <strong class="ic iy"><em class="iz">CLTV</em></strong> whereas 0 is the worst with 396. There are few more step before training the ML model:</p><ul class=""><li id="832e" class="ia ib cn ar ic b id ie if ig ih ii ij ik il im in jf jg jh">Need to do some feature engineering. We should convert categorical columns to numerical columns.</li><li id="2661" class="ia ib cn ar ic b id ji if jj ih jk ij jl il jm in jf jg jh">We will check the correlation of features against our label, <strong class="ic iy"><em class="iz">CLTV</em></strong> clusters.</li><li id="e470" class="ia ib cn ar ic b id ji if jj ih jk ij jl il jm in jf jg jh">We will split our feature set and label (<strong class="ic iy"><em class="iz">CLTV</em></strong>) as X and y. We use X to predict y.</li><li id="931b" class="ia ib cn ar ic b id ji if jj ih jk ij jl il jm in jf jg jh">Will create Training and Test dataset. Training set will be used for building the ML model.</li></ul><p id="fdbe" class="ia ib cn ar ic b id ie if ig ih ii ij ik il im in ex">We will apply our model to Test set to see its real performance.</p><pre class="hg hh hi hj hk kg kh dt"><span id="7b40" class="ki jo cn ar kj b bj kk kl r km">from sklearn.model_selection import KFold, cross_val_score, train_test_split<br/>#convert categorical columns to numerical<br/>DF_class = pd.get_dummies(DF_cluster)</span><span id="4433" class="ki jo cn ar kj b bj kn ko kp kq kr kl r km">#calculate and show correlations<br/>corr_matrix = DF_class.corr()<br/>corr_matrix[‘LTVCluster’].sort_values(ascending=False)</span><span id="1a66" class="ki jo cn ar kj b bj kn ko kp kq kr kl r km">#create X and y, X will be feature set and y is the label — LTV<br/>X = DF_class.drop([‘LTVCluster’,’m6_Monetary’],axis=1)<br/>y = DF_class[‘LTVCluster’]</span><span id="acd4" class="ki jo cn ar kj b bj kn ko kp kq kr kl r km">#split training and test sets<br/>X_train, X_test, y_train, y_test = train_test_split(X, y, test_size=0.05, random_state=42)</span></pre><figure class="hg hh hi hj hk hl eo ep paragraph-image"><div class="eo ep ls"><div class="ht r bl hu"><div class="lt r"><div class="bk hp es t u hq ak bd hr hs"><img class="es t u hq ak hw hx hy" src="https://miro.medium.com/max/60/1*5Hv-UL2Nvl7ZfbdwYl7uzQ.png?q=20" width="564" height="410" role="presentation"/></div><img class="bk hp es t u hq ak hz" width="564" height="410" role="presentation"/><noscript><img class="es t u hq ak" src="https://miro.medium.com/max/1128/1*5Hv-UL2Nvl7ZfbdwYl7uzQ.png" width="564" height="410" role="presentation"/></noscript></div></div></div></figure><p id="54ea" class="ia ib cn ar ic b id ie if ig ih ii ij ik il im in ex">We see that 3 months Revenue, Frequency and <strong class="ic iy"><em class="iz">RFM </em></strong>scores will be helpful for our ML models. With the training and test sets we can build our model.</p><h1 id="bb4d" class="jn jo cn ar aq jp fg jq fi jr js jt ju jv jw jx jy">Machine Learning Algorithm comparison</h1><figure class="hg hh hi hj hk hl eo ep paragraph-image"><div class="hm hn bl ho ak"><div class="eo ep lu"><div class="ht r bl hu"><div class="lv r"><div class="bk hp es t u hq ak bd hr hs"><img class="es t u hq ak hw hx hy" src="https://miro.medium.com/max/60/1*Z0n3geXNAlfjVN52Z0OZ-A.png?q=20" width="965" height="713" role="presentation"/></div><img class="bk hp es t u hq ak hz" width="965" height="713" role="presentation"/><noscript><img class="es t u hq ak" src="https://miro.medium.com/max/1930/1*Z0n3geXNAlfjVN52Z0OZ-A.png" width="965" height="713" role="presentation"/></noscript></div></div></div></div></figure><blockquote class="lw"><div id="af4e" class="lx ly lz ar ff b ma mb mc md me mf in"><p class="ff b mg mh av">Predictive model based on ML algorithms are kind of black box models which can be opened by using Sensitivity &amp; Specificity analysis.</p></div></blockquote><blockquote class="ja jb jc"><p id="b3e6" class="ia ib cn iz ic b id mi if mj ih mk ij ml il mm in ex">FP = confusion_matrix.sum(axis=0) — np.diag(confusion_matrix)</p><p id="1b1c" class="ia ib cn iz ic b id ie if ig ih ii ij ik il im in ex">FN = confusion_matrix.sum(axis=1) — np.diag(confusion_matrix)</p><p id="f540" class="ia ib cn iz ic b id ie if ig ih ii ij ik il im in ex">TP = np.diag(confusion_matrix)</p><p id="c4a6" class="ia ib cn iz ic b id ie if ig ih ii ij ik il im in ex">TN = confusion_matrix.values.sum() — (FP + FN + TP)</p><p id="2f02" class="ia ib cn iz ic b id ie if ig ih ii ij ik il im in ex">TPR = TP/(TP+FN) # Sensitivity, hit rate, recall, or true positive rate</p><p id="9805" class="ia ib cn iz ic b id ie if ig ih ii ij ik il im in ex">TNR = TN/(TN+FP) # Specificity or true negative rate</p><p id="a3cc" class="ia ib cn iz ic b id ie if ig ih ii ij ik il im in ex">PPV = TP/(TP+FP) # Precision or positive predictive value</p><p id="df19" class="ia ib cn iz ic b id ie if ig ih ii ij ik il im in ex">NPV = TN/(TN+FN) # Negative predictive value</p><p id="480a" class="ia ib cn iz ic b id ie if ig ih ii ij ik il im in ex">FPR = FP/(FP+TN) # Fall out or false positive rate</p><p id="a819" class="ia ib cn iz ic b id ie if ig ih ii ij ik il im in ex">FNR = FN/(TP+FN) # False negative rate</p><p id="5bd9" class="ia ib cn iz ic b id ie if ig ih ii ij ik il im in ex">FDR = FP/(TP+FP)# False discovery rate</p><p id="2e7e" class="ia ib cn iz ic b id ie if ig ih ii ij ik il im in ex">ACC = (TP+TN)/(TP+FP+FN+TN) # Overall accuracy</p></blockquote><h1 id="b1a9" class="jn jo cn ar aq jp fg jq fi jr js jt ju jv jw jx jy">XGB model</h1><figure class="hg hh hi hj hk hl eo ep paragraph-image"><div class="hm hn bl ho ak"><div class="eo ep mn"><div class="ht r bl hu"><div class="mo r"><div class="bk hp es t u hq ak bd hr hs"><img class="es t u hq ak hw hx hy" src="https://miro.medium.com/max/60/1*9roVRz-KmmS-4qlzDQzhlg.png?q=20" width="1142" height="664" role="presentation"/></div><img class="bk hp es t u hq ak hz" width="1142" height="664" role="presentation"/><noscript><img class="es t u hq ak" src="https://miro.medium.com/max/2284/1*9roVRz-KmmS-4qlzDQzhlg.png" width="1142" height="664" role="presentation"/></noscript></div></div></div></div></figure><p id="6b8b" class="ia ib cn ar ic b id ie if ig ih ii ij ik il im in ex">We have a multi classification model with 3 groups (clusters). Accuracy shows 78% on the test set. Our True positives are on the diagonal axis and are the largest numbers here. The False Negatives are the sum of the other values along the rows. The False Positives are the sum of the other values down the columns. Precision and recall are acceptable for 0. For cluster 0 which is Low <strong class="ic iy"><em class="iz">CLTV</em></strong>, if model identifies<em class="iz"> </em>customer belongs to cluster 0, 85% chance that it will be correct(precision).The classifier successfully identifies 90% of actual cluster 0 customers (recall). We need to improve the model for other clusters. The classifier barely detect 43% of Mid <strong class="ic iy"><em class="iz">CLTV</em></strong> customers.</p><p id="81ba" class="ia ib cn ar ic b id ie if ig ih ii ij ik il im in ex">Let’s experiment changing the depth and OneVsRestClassifier —</p><figure class="hg hh hi hj hk hl eo ep paragraph-image"><div class="hm hn bl ho ak"><div class="eo ep mp"><div class="ht r bl hu"><div class="mq r"><div class="bk hp es t u hq ak bd hr hs"><img class="es t u hq ak hw hx hy" src="https://miro.medium.com/max/60/1*6HuZfdiPZUD5nQb8zVvIRQ.png?q=20" width="876" height="444" role="presentation"/></div><img class="bk hp es t u hq ak hz" width="876" height="444" role="presentation"/><noscript><img class="es t u hq ak" src="https://miro.medium.com/max/1752/1*6HuZfdiPZUD5nQb8zVvIRQ.png" width="876" height="444" role="presentation"/></noscript></div></div></div></div></figure><figure class="hg hh hi hj hk hl eo ep paragraph-image"><div class="eo ep mr"><div class="ht r bl hu"><div class="ms r"><div class="bk hp es t u hq ak bd hr hs"><img class="es t u hq ak hw hx hy" src="https://miro.medium.com/max/60/1*VivYC7DsUX5kXyIX9wIv6w.png?q=20" width="603" height="480" role="presentation"/></div><img class="bk hp es t u hq ak hz" width="603" height="480" role="presentation"/><noscript><img class="es t u hq ak" src="https://miro.medium.com/max/1206/1*VivYC7DsUX5kXyIX9wIv6w.png" width="603" height="480" role="presentation"/></noscript></div></div></div></figure><p id="7c84" class="ia ib cn ar ic b id ie if ig ih ii ij ik il im in ex">Some improvement can be seen here. However, there are still rooms for improvement e.g.</p><ul class=""><li id="25df" class="ia ib cn ar ic b id ie if ig ih ii ij ik il im in jf jg jh">Adding more features and improve feature engineering</li><li id="0d66" class="ia ib cn ar ic b id ji if jj ih jk ij jl il jm in jf jg jh">Try ANN /DNN</li></ul><h1 id="fec1" class="jn jo cn ar aq jp fg jq fi jr js jt ju jv jw jx jy">ROCAUC</h1><p id="09f2" class="ia ib cn ar ic b id jz if ka ih kb ij kc il kd in ex">By default with multi-class ROCAUC visualizations, a curve for each class is plotted, in addition to the micro- and macro-average curves for each class. This enables the user to inspect the tradeoff between sensitivity and specificity on a per-class basis.</p><figure class="hg hh hi hj hk hl eo ep paragraph-image"><div class="hm hn bl ho ak"><div class="eo ep mt"><div class="ht r bl hu"><div class="mu r"><div class="bk hp es t u hq ak bd hr hs"><img class="es t u hq ak hw hx hy" src="https://miro.medium.com/max/60/1*oOsPjQ1L1CU4D6YtKozVHQ.png?q=20" width="931" height="614" role="presentation"/></div><img class="bk hp es t u hq ak hz" width="931" height="614" role="presentation"/><noscript><img class="es t u hq ak" src="https://miro.medium.com/max/1862/1*oOsPjQ1L1CU4D6YtKozVHQ.png" width="931" height="614" role="presentation"/></noscript></div></div></div></div></figure><h1 id="5d0b" class="jn jo cn ar aq jp fg jq fi jr js jt ju jv jw jx jy">Class Prediction Error</h1><figure class="hg hh hi hj hk hl eo ep paragraph-image"><div class="hm hn bl ho ak"><div class="eo ep mv"><div class="ht r bl hu"><div class="mw r"><div class="bk hp es t u hq ak bd hr hs"><img class="es t u hq ak hw hx hy" src="https://miro.medium.com/max/60/1*_9jfOn6gC6L8zQA33a9AkA.png?q=20" width="1027" height="751" role="presentation"/></div><img class="bk hp es t u hq ak hz" width="1027" height="751" role="presentation"/><noscript><img class="es t u hq ak" src="https://miro.medium.com/max/2054/1*_9jfOn6gC6L8zQA33a9AkA.png" width="1027" height="751" role="presentation"/></noscript></div></div></div></div></figure><p id="12d8" class="ia ib cn ar ic b id ie if ig ih ii ij ik il im in ex">Understanding prediction errors and determining how to ﬁx them is critical to building effective predictive systems. If you are interested, I will recommend to read this <a href="https://www.microsoft.com/en-us/research/wp-content/uploads/2016/11/PredictionErrorsTechReport.pdf" class="bo dd ks kt ku kv" target="_blank" rel="noopener nofollow"><strong class="ic iy"><em class="iz">article</em></strong></a><strong class="ic iy"> </strong>to know more about prediction errors.</p><h1 id="d3df" class="jn jo cn ar aq jp fg jq fi jr js jt ju jv jw jx jy">Summary</h1><p id="eb3f" class="ia ib cn ar ic b id jz if ka ih kb ij kc il kd in ex">In ML models parameters are tuned/estimated based on the data and the parameters control how the algorithms learn from the data (without making any assumptions about the data, and downstream of the data generation). XGB is a tree based algorithm and hence can be considered nonparametric. The tree depth used here is a parameter of the algorithm, but it is not inherently derived from the data, but rather an input parameter.</p><p id="3f2d" class="ia ib cn ar ic b id ie if ig ih ii ij ik il im in ex"><strong class="ic iy">I can be reached </strong><a href="https://www.linkedin.com/in/saritmaitra/" class="bo dd ks kt ku kv" target="_blank" rel="noopener nofollow"><strong class="ic iy"><em class="iz">here</em></strong></a><strong class="ic iy">.</strong></p></div></div></section></div></article><div class="bk ew mx s ak ne nc nf" data-test-id="post-sidebar"><div class="n p"><div class="ac ae af ag ah ai aj ak"><div class="ng n er"><div class="ew"><div class="nh ni r"><a href="/analytics-vidhya?source=post_sidebar--------------------------post_sidebar-" class="bo bp bq br bs bt bu bv bw bx by bz ca cb cc cd" rel="noopener"><h2 class="aq jp nj as cn">Analytics Vidhya</h2></a><div class="nk nl r"><h4 class="aq ee bj as bd nm bc gh nn gj av">Analytics Vidhya is a community of Analytics and Data Science professionals. We are building the next-gen data science ecosystem https://www.analyticsvidhya.com</h4></div><div class="bf" aria-hidden="true"><button class="cm co gn go gp gq gr gs bx cz aq b ar as at au da db dc bf dd ca">Follow</button></div></div><div class="no np nq n"><div class="n o"><div class="nr r bl"><div class=""><button class="bv ns nt nu nv nw nx ny go nz gr"><svg width="29" height="29"><g fill-rule="evenodd"><path d="M13.74 1l.76 2.97.76-2.97zM16.82 4.78l1.84-2.56-1.43-.47zM10.38 2.22l1.84 2.56-.41-3.03zM22.38 22.62a5.11 5.11 0 0 1-3.16 1.61l.49-.45c2.88-2.89 3.45-5.98 1.69-9.21l-1.1-1.94-.96-2.02c-.31-.67-.23-1.18.25-1.55a.84.84 0 0 1 .66-.16c.34.05.66.28.88.6l2.85 5.02c1.18 1.97 1.38 5.12-1.6 8.1M9.1 22.1l-5.02-5.02a1 1 0 0 1 .7-1.7 1 1 0 0 1 .72.3l2.6 2.6a.44.44 0 0 0 .63-.62L6.1 15.04l-1.75-1.75a1 1 0 1 1 1.41-1.41l4.15 4.15a.44.44 0 0 0 .63 0 .44.44 0 0 0 0-.62L6.4 11.26l-1.18-1.18a1 1 0 0 1 0-1.4 1.02 1.02 0 0 1 1.41 0l1.18 1.16L11.96 14a.44.44 0 0 0 .62 0 .44.44 0 0 0 0-.63L8.43 9.22a.99.99 0 0 1-.3-.7.99.99 0 0 1 .3-.7 1 1 0 0 1 1.41 0l7 6.98a.44.44 0 0 0 .7-.5l-1.35-2.85c-.31-.68-.23-1.19.25-1.56a.85.85 0 0 1 .66-.16c.34.06.66.28.88.6L20.63 15c1.57 2.88 1.07 5.54-1.55 8.16a5.62 5.62 0 0 1-5.06 1.65 9.35 9.35 0 0 1-4.93-2.72zM13 6.98l2.56 2.56c-.5.6-.56 1.41-.15 2.28l.26.56-4.25-4.25a.98.98 0 0 1-.12-.45 1 1 0 0 1 .29-.7 1.02 1.02 0 0 1 1.41 0zm8.89 2.06c-.38-.56-.9-.92-1.49-1.01a1.74 1.74 0 0 0-1.34.33c-.38.29-.61.65-.71 1.06a2.1 2.1 0 0 0-1.1-.56 1.78 1.78 0 0 0-.99.13l-2.64-2.64a1.88 1.88 0 0 0-2.65 0 1.86 1.86 0 0 0-.48.85 1.89 1.89 0 0 0-2.67-.01 1.87 1.87 0 0 0-.5.9c-.76-.75-2-.75-2.7-.04a1.88 1.88 0 0 0 0 2.66c-.3.12-.61.29-.87.55a1.88 1.88 0 0 0 0 2.66l.62.62a1.88 1.88 0 0 0-.9 3.16l5.01 5.02c1.6 1.6 3.52 2.64 5.4 2.96a7.16 7.16 0 0 0 1.18.1c1.03 0 2-.25 2.9-.7A5.9 5.9 0 0 0 23 23.24c3.34-3.34 3.08-6.93 1.74-9.17l-2.87-5.04z"></path></g></svg></button></div></div><div class="oa r"><div class="ob"><h4 class="aq ee bj as av"><button class="bo bp bq br bs bt bu bv bw bx by bz ca cb cc cd">235 </button></h4></div></div></div></div><div><div class="he"><div><div class="bf" role="tooltip" aria-hidden="true"><button class="bo bp bq br bs bt bu bv bw bx by bz ca cb cc cd"><svg width="25" height="25" viewBox="0 0 25 25"><path d="M19 6a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v14.66h.01c.01.1.05.2.12.28a.5.5 0 0 0 .7.03l5.67-4.12 5.66 4.13a.5.5 0 0 0 .71-.03.5.5 0 0 0 .12-.29H19V6zm-6.84 9.97L7 19.64V6a1 1 0 0 1 1-1h9a1 1 0 0 1 1 1v13.64l-5.16-3.67a.49.49 0 0 0-.68 0z" fill-rule="evenodd"></path></svg></button></div></div></div></div></div></div></div></div></div><div class="bk ew mx s my mz na nb nc nd"></div><div><div class="oc hl n er p"><div class="n p"><div class="ac ae af ag ah fc aj ak"><div class="n od"></div><div class="n o od"></div><div class="oe r"><ul class="bv bw"><li class="bf dr of og"><a href="/tag/machine-learning" class="oh oi dd av r kh oj a b ef">Machine Learning</a></li><li class="bf dr of og"><a href="/tag/customer-service" class="oh oi dd av r kh oj a b ef">Customer Service</a></li><li class="bf dr of og"><a href="/tag/data-science" class="oh oi dd av r kh oj a b ef">Data Science</a></li><li class="bf dr of og"><a href="/tag/analytics" class="oh oi dd av r kh oj a b ef">Analytics</a></li></ul></div><div class="ok n fx ab"><div class="n o"><div class="ck r bl"><div class=""><div class="c ol dg n o om bl on oo op oq or os ot ou ov ow ox oy oz gs"><button class="bv ns nt nu nv nw pa ny o hz dg n p pb u hq es t ak go nz gr pc"><svg width="33" height="33" viewBox="0 0 33 33"><path d="M28.86 17.34l-3.64-6.4c-.3-.43-.71-.73-1.16-.8a1.12 1.12 0 0 0-.9.21c-.62.5-.73 1.18-.32 2.06l1.22 2.6 1.4 2.45c2.23 4.09 1.51 8-2.15 11.66a9.6 9.6 0 0 1-.8.71 6.53 6.53 0 0 0 4.3-2.1c3.82-3.82 3.57-7.87 2.05-10.39zm-6.25 11.08c3.35-3.35 4-6.78 1.98-10.47L21.2 12c-.3-.43-.71-.72-1.16-.8a1.12 1.12 0 0 0-.9.22c-.62.49-.74 1.18-.32 2.06l1.72 3.63a.5.5 0 0 1-.81.57l-8.91-8.9a1.33 1.33 0 0 0-1.89 1.88l5.3 5.3a.5.5 0 0 1-.71.7l-5.3-5.3-1.49-1.49c-.5-.5-1.38-.5-1.88 0a1.34 1.34 0 0 0 0 1.89l1.49 1.5 5.3 5.28a.5.5 0 0 1-.36.86.5.5 0 0 1-.36-.15l-5.29-5.29a1.34 1.34 0 0 0-1.88 0 1.34 1.34 0 0 0 0 1.89l2.23 2.23L9.3 21.4a.5.5 0 0 1-.36.85.5.5 0 0 1-.35-.14l-3.32-3.33a1.33 1.33 0 0 0-1.89 0 1.32 1.32 0 0 0-.39.95c0 .35.14.69.4.94l6.39 6.4c3.53 3.53 8.86 5.3 12.82 1.35zM12.73 9.26l5.68 5.68-.49-1.04c-.52-1.1-.43-2.13.22-2.89l-3.3-3.3a1.34 1.34 0 0 0-1.88 0 1.33 1.33 0 0 0-.4.94c0 .22.07.42.17.61zm14.79 19.18a7.46 7.46 0 0 1-6.41 2.31 7.92 7.92 0 0 1-3.67.9c-3.05 0-6.12-1.63-8.36-3.88l-6.4-6.4A2.31 2.31 0 0 1 2 19.72a2.33 2.33 0 0 1 1.92-2.3l-.87-.87a2.34 2.34 0 0 1 0-3.3 2.33 2.33 0 0 1 1.24-.64l-.14-.14a2.34 2.34 0 0 1 0-3.3 2.39 2.39 0 0 1 3.3 0l.14.14a2.33 2.33 0 0 1 3.95-1.24l.09.09c.09-.42.29-.83.62-1.16a2.34 2.34 0 0 1 3.3 0l3.38 3.39a2.17 2.17 0 0 1 1.27-.17c.54.08 1.03.35 1.45.76.1-.55.41-1.03.9-1.42a2.12 2.12 0 0 1 1.67-.4 2.8 2.8 0 0 1 1.85 1.25l3.65 6.43c1.7 2.83 2.03 7.37-2.2 11.6zM13.22.48l-1.92.89 2.37 2.83-.45-3.72zm8.48.88L19.78.5l-.44 3.7 2.36-2.84zM16.5 3.3L15.48 0h2.04L16.5 3.3z" fill-rule="evenodd"></path></svg></button></div></div></div><div class="oa r"><div class="ob"><h4 class="aq ee bj as cn"><button class="bo bp bq br bs bt bu bv bw bx by bz ca cb cc cd">235 claps</button></h4></div></div></div><div class="n o"><div class="hc r ap"><a href="//medium.com/p/15f9cb3653b0/share/twitter?source=post_actions_footer---------------------------" class="bo bp bq br bs bt bu bv bw bx by bz ca cb cc cd" target="_blank" rel="noopener nofollow"><svg width="29" height="29" class="q"><path d="M22.05 7.54a4.47 4.47 0 0 0-3.3-1.46 4.53 4.53 0 0 0-4.53 4.53c0 .35.04.7.08 1.05A12.9 12.9 0 0 1 5 6.89a5.1 5.1 0 0 0-.65 2.26c.03 1.6.83 2.99 2.02 3.79a4.3 4.3 0 0 1-2.02-.57v.08a4.55 4.55 0 0 0 3.63 4.44c-.4.08-.8.13-1.21.16l-.81-.08a4.54 4.54 0 0 0 4.2 3.15 9.56 9.56 0 0 1-5.66 1.94l-1.05-.08c2 1.27 4.38 2.02 6.94 2.02 8.3 0 12.86-6.9 12.84-12.85.02-.24 0-.43 0-.65a8.68 8.68 0 0 0 2.26-2.34c-.82.38-1.7.62-2.6.72a4.37 4.37 0 0 0 1.95-2.51c-.84.53-1.81.9-2.83 1.13z"></path></svg></a></div><div class="hc r ap"><a href="//medium.com/p/15f9cb3653b0/share/facebook?source=post_actions_footer---------------------------" class="bo bp bq br bs bt bu bv bw bx by bz ca cb cc cd" target="_blank" rel="noopener nofollow"><svg width="29" height="29" class="q"><path d="M23.2 5H5.8a.8.8 0 0 0-.8.8V23.2c0 .44.35.8.8.8h9.3v-7.13h-2.38V13.9h2.38v-2.38c0-2.45 1.55-3.66 3.74-3.66 1.05 0 1.95.08 2.2.11v2.57h-1.5c-1.2 0-1.48.57-1.48 1.4v1.96h2.97l-.6 2.97h-2.37l.05 7.12h5.1a.8.8 0 0 0 .79-.8V5.8a.8.8 0 0 0-.8-.79"></path></svg></a></div><div class="hc r ap"><div><div class="he"><div><div class="bf" role="tooltip" aria-hidden="true"><button class="bo bp bq br bs bt bu bv bw bx by bz ca cb cc cd"><svg width="25" height="25" viewBox="0 0 25 25"><path d="M19 6a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v14.66h.01c.01.1.05.2.12.28a.5.5 0 0 0 .7.03l5.67-4.12 5.66 4.13a.5.5 0 0 0 .71-.03.5.5 0 0 0 .12-.29H19V6zm-6.84 9.97L7 19.64V6a1 1 0 0 1 1-1h9a1 1 0 0 1 1 1v13.64l-5.16-3.67a.49.49 0 0 0-.68 0z" fill-rule="evenodd"></path></svg></button></div></div></div></div></div><div class="bf" aria-hidden="true"><div class="bf" aria-hidden="true"><div class="r ap"><button class="bo bp bq br bs bt bu bv bw bx by bz ca cb cc cd"><svg width="25" height="25" viewBox="-480.5 272.5 21 21" class="q"><path d="M-463 284.6c.9 0 1.6-.7 1.6-1.6s-.7-1.6-1.6-1.6-1.6.7-1.6 1.6.7 1.6 1.6 1.6zm0 .9c-1.4 0-2.5-1.1-2.5-2.5s1.1-2.5 2.5-2.5 2.5 1.1 2.5 2.5-1.1 2.5-2.5 2.5zm-7-.9c.9 0 1.6-.7 1.6-1.6s-.7-1.6-1.6-1.6-1.6.7-1.6 1.6.7 1.6 1.6 1.6zm0 .9c-1.4 0-2.5-1.1-2.5-2.5s1.1-2.5 2.5-2.5 2.5 1.1 2.5 2.5-1.1 2.5-2.5 2.5zm-7-.9c.9 0 1.6-.7 1.6-1.6s-.7-1.6-1.6-1.6-1.6.7-1.6 1.6.7 1.6 1.6 1.6zm0 .9c-1.4 0-2.5-1.1-2.5-2.5s1.1-2.5 2.5-2.5 2.5 1.1 2.5 2.5-1.1 2.5-2.5 2.5z"></path></svg></button></div></div></div></div></div><div class="pd dj pe oe r ab"><div class="pf pg r bl"><span class="r ph an pi"><div class="r es pj pk"><a rel="noopener" href="/@sarit.maitra?source=follow_footer--------------------------follow_footer-"><img alt="Sarit Maitra" class="r dg dx pl" src="https://miro.medium.com/fit/c/160/160/2*EF7JY4esV1_vtgjeCREHCQ.jpeg" width="80" height="80"/></a></div><span class="r"><div class="pm r pn"><p class="aq ee ef as av eg po">Written by</p></div><div class="pm pp n pn"><div class="ak n o fx"><h2 class="aq jp pq pr cn"><a class="bo bp bq br bs bt bu bv bw bx by bz ca cb cc cd" rel="noopener" href="/@sarit.maitra?source=follow_footer--------------------------follow_footer-">Sarit Maitra</a></h2><div class="r g"><button class="cm co gn go gp gq gr gs bx cz aq b ar as at au da db dc bf dd ca">Follow</button></div></div></div></span></span><div class="pm ps r pn dk"><div class="pt r"><h4 class="aq ee nj pu av">Data Science Practice Lead at KSG Analytics Pvt. Ltd.</h4></div><div class="ci pv dk"><button class="cm co gn go gp gq gr gs bx cz aq b ar as at au da db dc bf dd ca">Follow</button></div></div></div><div class="pd r"></div><div class="pf pg r bl"><span class="r ph an pi"><div class="r es pj pk"><a href="/analytics-vidhya?source=follow_footer--------------------------follow_footer-" rel="noopener"><img alt="Analytics Vidhya" class="cz pl dx" src="https://miro.medium.com/fit/c/160/160/1*miCA9MEw8TjpXyR0xY1w-A.png" width="80" height="80"/></a></div><span class="r"><div class="pm pp n pn"><div class="ak n o fx"><h2 class="aq jp pq pr cn"><a href="/analytics-vidhya?source=follow_footer--------------------------follow_footer-" class="bo bp bq br bs bt bu bv bw bx by bz ca cb cc cd" rel="noopener">Analytics Vidhya</a></h2><div class="r g"><div class="bf" aria-hidden="true"><button class="cm co gn go gp gq gr gs bx cz aq b ar as at au da db dc bf dd ca">Follow</button></div></div></div></div></span></span><div class="pm pw r pn dk"><div class="pt r"><h4 class="aq ee nj pu av">Analytics Vidhya is a community of Analytics and Data Science professionals. We are building the next-gen data science ecosystem https://www.analyticsvidhya.com</h4></div><div class="ci pv dk"><div class="bf" aria-hidden="true"><button class="cm co gn go gp gq gr gs bx cz aq b ar as at au da db dc bf dd ca">Follow</button></div></div></div></div></div><div class="px dj r ab"><a href="https://medium.com/p/15f9cb3653b0/responses/show?source=follow_footer--------------------------follow_footer-" class="bo bp bq br bs bt bu bv bw bx by bz ca cb cc cd" rel="noopener"><span class="lz py nv"><div class="kg pz cz r qa dk"><span class="gn">See responses (3)</span></div></span></a></div></div></div><div class="qb r qc ab"><div class="n p"><div class="ac ae af ag ah ai aj ak"></div></div></div></div></div><div class="qd r qe qf"><section class="eo ep ak dc r qg qh qi qj qk ql qm qn qo qp qq qr qs qt qu"><div class="qv qw pf n fx g"><div class="qx n fx"><div class="qy r qz"><div class="ra r"><a href="https://medium.com/about?autoplay=1&amp;source=post_page-----15f9cb3653b0----------------------" class="bo bp bq br bs bt bu bv bw bx rb rc ca cb rd re" rel="noopener"><h4 class="rf rg rh aq jp ar pu ri rj r">Discover <!-- -->Medium</h4></a></div><span class="aq b ar as at au r rk rl">Welcome to a place where words matter. On <!-- -->Medium<!-- -->, smart voices and original ideas take center stage - with no ads in sight.<!-- --> <a href="https://medium.com/about?autoplay=1&amp;source=post_page-----15f9cb3653b0----------------------" class="bo bp bq br bs bt bu bv bw bx ca cb rd re rm" rel="noopener">Watch</a></span></div><div class="qy r qz"><div class="rn r"><a href="https://medium.com/topics?source=post_page-----15f9cb3653b0----------------------" class="bo bp bq br bs bt bu bv bw bx rb rc ca cb rd re" rel="noopener"><h4 class="rf rg rh aq jp ar pu ri rj r">Make <!-- -->Medium<!-- --> yours</h4></a></div><span class="aq b ar as at au r rk rl">Follow all the topics you care about, and we’ll deliver the best stories for you to your homepage and inbox.<!-- --> <a href="https://medium.com/topics?source=post_page-----15f9cb3653b0----------------------" class="bo bp bq br bs bt bu bv bw bx ca cb rd re rm" rel="noopener">Explore</a></span></div><div class="qy r qz"><div class="ra r"><a href="https://medium.com/membership?source=post_page-----15f9cb3653b0----------------------" class="bo bp bq br bs bt bu bv bw bx rb rc ca cb rd re" rel="noopener"><h4 class="rf rg rh aq jp ar pu ri rj r">Become a member</h4></a></div><span class="aq b ar as at au r rk rl">Get unlimited access to the best stories on <!-- -->Medium<!-- --> — and support writers while you’re at it. Just $5/month.<!-- --> <a href="https://medium.com/membership?source=post_page-----15f9cb3653b0----------------------" class="bo bp bq br bs bt bu bv bw bx ca cb rd re rm" rel="noopener">Upgrade</a></span></div></div></div><div class="n o fx"><a href="https://medium.com/?source=post_page-----15f9cb3653b0----------------------" class="bo bp bq br bs bt bu bv bw bx rb rc ca cb rd re" rel="noopener"><svg height="22" width="112" viewBox="0 0 111.5 22" class="rg"><path d="M56.3 19.5c0 .4 0 .5.3.7l1.5 1.4v.1h-6.5V19c-.7 1.8-2.4 3-4.3 3-3.3 0-5.8-2.6-5.8-7.5 0-4.5 2.6-7.6 6.3-7.6 1.6-.1 3.1.8 3.8 2.4V3.2c0-.3-.1-.6-.3-.7l-1.4-1.4V1l6.5-.8v19.3zm-4.8-.8V9.5c-.5-.6-1.2-.9-1.9-.9-1.6 0-3.1 1.4-3.1 5.7 0 4 1.3 5.4 3 5.4.8.1 1.6-.3 2-1zm9.1 3.1V9.4c0-.3-.1-.6-.3-.7l-1.4-1.5v-.1h6.5v12.5c0 .4 0 .5.3.7l1.4 1.4v.1h-6.5zm-.2-19.2C60.4 1.2 61.5 0 63 0c1.4 0 2.6 1.2 2.6 2.6S64.4 5.3 63 5.3a2.6 2.6 0 0 1-2.6-2.7zm22.5 16.9c0 .4 0 .5.3.7l1.5 1.4v.1h-6.5v-3.2c-.6 2-2.4 3.4-4.5 3.4-2.9 0-4.4-2.1-4.4-6.2 0-1.9 0-4.1.1-6.5 0-.3-.1-.5-.3-.7L67.7 7v.1H74v8c0 2.6.4 4.4 2 4.4.9-.1 1.7-.6 2.1-1.3V9.5c0-.3-.1-.6-.3-.7l-1.4-1.5v-.2h6.5v12.4zm22 2.3c0-.5.1-6.5.1-7.9 0-2.6-.4-4.5-2.2-4.5-.9 0-1.8.5-2.3 1.3.2.8.3 1.7.3 2.5 0 1.8-.1 4.2-.1 6.5 0 .3.1.5.3.7l1.5 1.4v.1H96c0-.4.1-6.5.1-7.9 0-2.7-.4-4.5-2.2-4.5-.9 0-1.7.5-2.2 1.3v9c0 .4 0 .5.3.7l1.4 1.4v.1h-6.5V9.5c0-.3-.1-.6-.3-.7l-1.4-1.5v-.2h6.5v3.1a4.6 4.6 0 0 1 4.6-3.4c2.2 0 3.6 1.2 4.2 3.5.7-2.1 2.7-3.6 4.9-3.5 2.9 0 4.5 2.2 4.5 6.2 0 1.9-.1 4.2-.1 6.5-.1.3.1.6.3.7l1.4 1.4v.1h-6.6zm-81.4-2l1.9 1.9v.1h-9.8v-.1l2-1.9c.2-.2.3-.4.3-.7V7.3c0-.5 0-1.2.1-1.8L11.4 22h-.1L4.5 6.8c-.1-.4-.2-.4-.3-.6v10c-.1.7 0 1.3.3 1.9l2.7 3.6v.1H0v-.1L2.7 18c.3-.6.4-1.3.3-1.9v-11c0-.5-.1-1.1-.5-1.5L.7 1.1V1h7l5.8 12.9L18.6 1h6.8v.1l-1.9 2.2c-.2.2-.3.5-.3.7v15.2c0 .2.1.5.3.6zm7.6-5.9c0 3.8 1.9 5.3 4.2 5.3 1.9.1 3.6-1 4.4-2.7h.1c-.8 3.7-3.1 5.5-6.5 5.5-3.7 0-7.2-2.2-7.2-7.4 0-5.5 3.5-7.6 7.3-7.6 3.1 0 6.4 1.5 6.4 6.2v.8h-8.7zm0-.8h4.3v-.8c0-3.9-.8-4.9-2-4.9-1.4.1-2.3 1.6-2.3 5.7z"></path></svg></a><span class="aq b ar as at au r rk rl"><div class="ro rp n fx rq an"><a href="https://medium.com/about?autoplay=1&amp;source=post_page-----15f9cb3653b0----------------------" class="bo bp bq br bs bt bu bv bw bx gk ca cb rd re" rel="noopener">About</a><a href="https://help.medium.com/?source=post_page-----15f9cb3653b0----------------------" class="bo bp bq br bs bt bu bv bw bx gk ca cb rd re" rel="noopener">Help</a><a class="bo bp bq br bs bt bu bv bw bx gk ca cb rd re" rel="noopener" href="/policy/9db0094a1e0f?source=post_page-----15f9cb3653b0----------------------">Legal</a></div></span></div></section></div></div></div><script src="https://cdn.optimizely.com/js/16180790160.js"></script><script>window.__BUILD_ID__ = "development"</script><script>window.__GRAPHQL_URI__ = "https://medium.com/_/graphql"</script><script>window.__PRELOADED_STATE__ = {"config":{"nodeEnv":"production","version":"master-20200204-221852-618414ba79","productName":"Medium","publicUrl":"https:\u002F\u002Fcdn-client.medium.com\u002Flite","authDomain":"medium.com","authGoogleClientId":"216296035834-k1k6qe060s2tp2a2jam4ljdcms00sttg.apps.googleusercontent.com","favicon":"production","glyphUrl":"https:\u002F\u002Fglyph.medium.com","branchKey":"key_live_ofxXr2qTrrU9NqURK8ZwEhknBxiI6KBm","lightStep":{"name":"lite-web","host":"collector-medium.lightstep.com","token":"ce5be895bef60919541332990ac9fef2","appVersion":"master-20200204-221852-618414ba79"},"algolia":{"appId":"MQ57UUUQZ2","apiKeySearch":"394474ced050e3911ae2249ecc774921","indexPrefix":"medium_","host":"-dsn.algolia.net"},"recaptchaKey":"6Lfc37IUAAAAAKGGtC6rLS13R1Hrw_BqADfS1LRk","sentry":{"dsn":"https:\u002F\u002F589e367c28ca47b195ce200d1507d18b@sentry.io\u002F1423575","environment":"production"},"isAmp":false,"googleAnalyticsCode":"UA-24232453-2","signInWallCustomDomainCollectionIds":["3a8144eabfe3","336d898217ee","61061eb0c96b","138adf9c44c","819cc2aaeee0"],"mediumOwnedAndOperatedCollectionIds":["544c7006046e","bcc38c8f6edf","444d13b52878","8d6b8a439e32","92d2092dc598","1285ba81cada","cb8577c9149e","8ccfed20cbb2","ae2a65f35510","3f6ecf56618","7b6769f2748b","fc8964313712","ef8e90590e66","191186aaafa0","d944778ce714","bdc4052bbdba","88d9857e584e"],"tierOneDomains":["medium.com","thebolditalic.com","arcdigital.media","towardsdatascience.com","uxdesign.cc","codeburst.io","psiloveyou.xyz","writingcooperative.com","entrepreneurshandbook.co","prototypr.io","betterhumans.coach.me","theascent.pub"],"defaultImages":{"avatar":{"imageId":"1*dmbNkD5D-u45r44go_cf0g.png","height":150,"width":150},"orgLogo":{"imageId":"1*OMF3fSqH8t4xBJ9-6oZDZw.png","height":106,"width":545},"postLogo":{"imageId":"1*3sela1OADrJr7dJk_CXaEQ.png","height":810,"width":1440}},"performanceTags":[]},"debug":{"requestId":"51c475bf-0367-4e40-b549-0ac7cd84bc8b","originalSpanCarrier":{"ot-tracer-spanid":"77df5f1644cce82c","ot-tracer-traceid":"565f751e2635d9e7","ot-tracer-sampled":"true"}},"session":{"user":{"id":"274ba8750c92"},"xsrf":"apJGJEUcf08U"},"stats":{"itemCount":0,"sending":false,"timeout":null,"backup":{}},"navigation":{"showBranchBanner":null,"hasRenderedBranchBanner":null,"hideGoogleOneTap":false,"hasRenderedGoogleOneTap":null,"branchData":{"loaded":false},"currentLocation":"https:\u002F\u002Fmedium.com\u002Fanalytics-vidhya\u002Fintegrated-approach-of-rfm-clustering-cltv-machine-learning-algorithm-15f9cb3653b0","host":"medium.com","hostname":"medium.com","susiModal":{"step":null,"operation":"register","reportEventInfo":{"eventName":"","data":{}}}},"client":{"isBot":false,"isEu":false,"isLinkedin":false,"isNativeMedium":false,"isCustomDomain":false},"multiVote":{"clapsPerPost":{}},"metadata":{"faviconImageId":null}}</script><script>window.__APOLLO_STATE__ = {"ROOT_QUERY.variantFlags.0":{"name":"add_friction_to_signup","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.0.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.0.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.1":{"name":"allow_access","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.1.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.1.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.2":{"name":"allow_signup","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.2.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.2.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.3":{"name":"allow_test_auth","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.3.valueType","typename":"VariantFlagString"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.3.valueType":{"__typename":"VariantFlagString","value":"disallow"},"ROOT_QUERY.variantFlags.4":{"name":"assign_default_topic_to_posts","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.4.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.4.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.5":{"name":"available_annual_plan","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.5.valueType","typename":"VariantFlagString"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.5.valueType":{"__typename":"VariantFlagString","value":"2c754bcc2995"},"ROOT_QUERY.variantFlags.6":{"name":"available_monthly_plan","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.6.valueType","typename":"VariantFlagString"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.6.valueType":{"__typename":"VariantFlagString","value":"60e220181034"},"ROOT_QUERY.variantFlags.7":{"name":"branch_seo_metadata","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.7.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.7.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.8":{"name":"browsable_stream_config_bucket","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.8.valueType","typename":"VariantFlagString"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.8.valueType":{"__typename":"VariantFlagString","value":"curated-topics"},"ROOT_QUERY.variantFlags.9":{"name":"disable_android_subscription_activity_carousel","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.9.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.9.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.10":{"name":"disable_go_social","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.10.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.10.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.11":{"name":"disable_gosocial_followers_that_you_follow","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.11.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.11.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.12":{"name":"disable_ios_resume_reading_toast","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.12.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.12.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.13":{"name":"disable_ios_subscription_activity_carousel","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.13.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.13.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.14":{"name":"disable_mobile_featured_chunk","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.14.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.14.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.15":{"name":"disable_post_recommended_from_friends_provider","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.15.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.15.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.16":{"name":"enable_android_local_currency","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.16.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.16.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.17":{"name":"enable_annual_renewal_reminder_email","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.17.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.17.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.18":{"name":"enable_app_flirty_thirty","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.18.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.18.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.19":{"name":"enable_auto_tier","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.19.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.19.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.20":{"name":"enable_automated_mission_control_triggers","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.20.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.20.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.21":{"name":"enable_branch_io","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.21.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.21.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.22":{"name":"enable_branding","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.22.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.22.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.23":{"name":"enable_branding_fonts","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.23.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.23.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.24":{"name":"enable_dedicated_series_tab_api_ios","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.24.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.24.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.25":{"name":"enable_different_grid","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.25.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.25.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.26":{"name":"enable_disregard_trunc_state_for_footer","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.26.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.26.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.27":{"name":"enable_edit_alt_text","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.27.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.27.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.28":{"name":"enable_email_sign_in_captcha","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.28.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.28.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.29":{"name":"enable_embedding_based_diversification","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.29.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.29.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.30":{"name":"enable_expanded_feature_chunk_pool","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.30.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.30.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.31":{"name":"enable_filter_by_resend_rules","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.31.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.31.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.32":{"name":"enable_first_name_on_paywall","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.32.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.32.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.33":{"name":"enable_geolocation_stripe_standard","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.33.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.33.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.34":{"name":"enable_google_one_tap","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.34.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.34.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.35":{"name":"enable_ios_post_stats","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.35.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.35.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.36":{"name":"enable_janky_spam_rules","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.36.valueType","typename":"VariantFlagString"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.36.valueType":{"__typename":"VariantFlagString","value":"users,posts"},"ROOT_QUERY.variantFlags.37":{"name":"enable_json_logs_trained_ranker","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.37.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.37.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.38":{"name":"enable_kafka_events","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.38.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.38.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.39":{"name":"enable_kbfd_rex","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.39.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.39.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.40":{"name":"enable_kbfd_rex_app_highlights","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.40.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.40.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.41":{"name":"enable_kbfd_rex_daily_digest","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.41.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.41.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.42":{"name":"enable_lite_notifications","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.42.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.42.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.43":{"name":"enable_lite_post","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.43.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.43.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.44":{"name":"enable_lite_post_cd","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.44.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.44.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.45":{"name":"enable_lite_post_highlights","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.45.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.45.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.46":{"name":"enable_lite_post_highlights_view_only","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.46.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.46.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.47":{"name":"enable_lite_profile","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.47.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.47.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.48":{"name":"enable_lite_pub_header_menu","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.48.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.48.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.49":{"name":"enable_lite_server_upstream_deadlines","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.49.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.49.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.50":{"name":"enable_lite_stories","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.50.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.50.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.51":{"name":"enable_lite_topics","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.51.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.51.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.52":{"name":"enable_lite_unread_notification_count_mutation","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.52.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.52.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.53":{"name":"enable_lo_meter_swap","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.53.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.53.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.54":{"name":"enable_logged_out_homepage_signup","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.54.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.54.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.55":{"name":"enable_marketing_emails","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.55.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.55.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.56":{"name":"enable_media_resource_try_catch","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.56.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.56.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.57":{"name":"enable_membership_remove_section_a","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.57.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.57.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.58":{"name":"enable_more_branch_data","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.58.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.58.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.59":{"name":"enable_new_collaborative_filtering_data","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.59.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.59.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.60":{"name":"enable_new_payout_system","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.60.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.60.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.61":{"name":"enable_new_pub_modules","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.61.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.61.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.62":{"name":"enable_new_suspended_page","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.62.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.62.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.63":{"name":"enable_new_three_dot_menu","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.63.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.63.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.64":{"name":"enable_optimizely","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.64.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.64.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.65":{"name":"enable_parsely","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.65.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.65.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.66":{"name":"enable_partner_dashboard_tax_withholding_updates","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.66.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.66.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.67":{"name":"enable_patronus_on_kubernetes","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.67.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.67.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.68":{"name":"enable_popularity_feature","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.68.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.68.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.69":{"name":"enable_post_import","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.69.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.69.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.70":{"name":"enable_post_seo_settings_screen","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.70.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.70.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.71":{"name":"enable_post_settings_screen","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.71.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.71.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.72":{"name":"enable_primary_topic_for_mobile","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.72.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.72.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.73":{"name":"enable_rito_caching","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.73.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.73.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.74":{"name":"enable_rito_upstream_deadlines","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.74.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.74.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.75":{"name":"enable_rtr_channel","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.75.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.75.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.76":{"name":"enable_save_to_medium","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.76.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.76.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.77":{"name":"enable_sign_up_with_email","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.77.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.77.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.78":{"name":"enable_suggest_account","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.78.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.78.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.79":{"name":"enable_suggest_account_li","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.79.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.79.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.80":{"name":"enable_tick_landing_page","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.80.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.80.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.81":{"name":"enable_tipalti_onboarding","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.81.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.81.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.82":{"name":"enable_topic_lifecycle_email","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.82.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.82.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.83":{"name":"enable_tribute_landing_page","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.83.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.83.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.84":{"name":"enable_trumpland_landing_page","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.84.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.84.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.85":{"name":"glyph_font_set","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.85.valueType","typename":"VariantFlagString"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.85.valueType":{"__typename":"VariantFlagString","value":"m2"},"ROOT_QUERY.variantFlags.86":{"name":"google_sign_in_android","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.86.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.86.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.87":{"name":"is_not_medium_subscriber","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.87.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.87.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.88":{"name":"new_transition_page","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.88.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.88.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.89":{"name":"pardon_the_interruption_4","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.89.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.89.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.90":{"name":"pub_sidebar","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.90.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.90.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.91":{"name":"rank_model","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.91.valueType","typename":"VariantFlagString"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.91.valueType":{"__typename":"VariantFlagString","value":"default"},"ROOT_QUERY.variantFlags.92":{"name":"redis_read_write_splitting","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.92.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.92.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.93":{"name":"signin_services","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.93.valueType","typename":"VariantFlagString"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.93.valueType":{"__typename":"VariantFlagString","value":"twitter,facebook,google,email,google-fastidv,google-one-tap,apple"},"ROOT_QUERY.variantFlags.94":{"name":"signup_services","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.94.valueType","typename":"VariantFlagString"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.94.valueType":{"__typename":"VariantFlagString","value":"twitter,facebook,google,email,google-fastidv,google-one-tap,apple"},"ROOT_QUERY.variantFlags.95":{"name":"use_new_admin_topic_backend","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.95.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.95.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY":{"variantFlags":[{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.0","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.1","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.2","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.3","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.4","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.5","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.6","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.7","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.8","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.9","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.10","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.11","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.12","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.13","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.14","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.15","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.16","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.17","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.18","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.19","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.20","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.21","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.22","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.23","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.24","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.25","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.26","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.27","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.28","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.29","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.30","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.31","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.32","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.33","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.34","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.35","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.36","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.37","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.38","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.39","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.40","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.41","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.42","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.43","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.44","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.45","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.46","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.47","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.48","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.49","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.50","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.51","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.52","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.53","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.54","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.55","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.56","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.57","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.58","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.59","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.60","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.61","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.62","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.63","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.64","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.65","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.66","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.67","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.68","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.69","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.70","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.71","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.72","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.73","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.74","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.75","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.76","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.77","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.78","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.79","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.80","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.81","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.82","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.83","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.84","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.85","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.86","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.87","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.88","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.89","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.90","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.91","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.92","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.93","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.94","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.95","typename":"VariantFlag"}],"viewer":{"type":"id","generated":false,"id":"User:274ba8750c92","typename":"User"},"meterPost({\"postId\":\"15f9cb3653b0\",\"postMeteringOptions\":{}})":{"type":"id","generated":false,"id":"MeteringInfo:singleton","typename":"MeteringInfo"},"postResult({\"id\":\"15f9cb3653b0\"})":{"type":"id","generated":false,"id":"Post:15f9cb3653b0","typename":"Post"},"notificationsConnection({})":{"type":"id","generated":true,"id":"$ROOT_QUERY.notificationsConnection({})","typename":"NotificationsConnection"},"notificationStatus":{"type":"id","generated":true,"id":"$ROOT_QUERY.notificationStatus","typename":"NotificationStatus"}},"User:274ba8750c92":{"id":"274ba8750c92","username":"beccayu0","name":"Rebecca Yu","imageId":"0*xb8xgsH6Zzsl8K15","mediumMemberAt":0,"hasPastMemberships":false,"isPartnerProgramEnrolled":false,"email":"beccayu0@gmail.com","unverifiedEmail":"","createdAt":1572397813724,"__typename":"User"},"MeteringInfo:singleton":{"__typename":"MeteringInfo","postIds":{"type":"json","json":["15f9cb3653b0"]},"maxUnlockCount":3,"unlocksRemaining":2},"Post:15f9cb3653b0":{"__typename":"Post","visibility":"LOCKED","latestPublishedVersion":"549c5523cc80","collection":{"type":"id","generated":false,"id":"Collection:7219b4dc6c4c","typename":"Collection"},"id":"15f9cb3653b0","creator":{"type":"id","generated":false,"id":"User:c611876588a8","typename":"User"},"isLocked":true,"lockedSource":"LOCKED_POST_SOURCE_UGC","sequence":null,"mediumUrl":"https:\u002F\u002Fmedium.com\u002Fanalytics-vidhya\u002Fintegrated-approach-of-rfm-clustering-cltv-machine-learning-algorithm-15f9cb3653b0","canonicalUrl":"","content({\"postMeteringOptions\":{}})":{"type":"id","generated":true,"id":"$Post:15f9cb3653b0.content({\"postMeteringOptions\":{}})","typename":"PostContent"},"firstPublishedAt":1570106757313,"isPublished":true,"layerCake":3,"primaryTopic":{"type":"id","generated":false,"id":"data-science","typename":"Topic"},"title":"Integrated Approach - RFM, Clustering, CLTV & ML Algorithms for Forecasting: analysis with Python","isLimitedState":false,"pendingCollection":null,"shareKey":null,"statusForCollection":"APPROVED","readingTime":8.430188679245283,"readingList":"READING_LIST_NONE","license":"ALL_RIGHTS_RESERVED","allowResponses":true,"tags":[{"type":"id","generated":false,"id":"Tag:machine-learning","typename":"Tag"},{"type":"id","generated":false,"id":"Tag:customer-service","typename":"Tag"},{"type":"id","generated":false,"id":"Tag:data-science","typename":"Tag"},{"type":"id","generated":false,"id":"Tag:analytics","typename":"Tag"}],"viewerClapCount":0,"clapCount":235,"voterCount":46,"recommenders":[],"responsesCount":3,"collaborators":[],"translationSourcePost":null,"newsletterId":"","inResponseToPostResult":null,"inResponseToMediaResource":null,"curationEligibleAt":1570106755664,"isDistributionAlertDismissed":false,"audioVersionUrl":"","seoTitle":"","socialTitle":"","socialDek":"","metaDescription":"Forecasting consumer purchases using customer segmentation and algorithmic approaches and ensemble machine learning techniques","latestPublishedAt":1576295210547,"previewContent":{"type":"id","generated":true,"id":"$Post:15f9cb3653b0.previewContent","typename":"PreviewContent"},"previewImage":{"type":"id","generated":false,"id":"ImageMetadata:1*1hewbDXYm6XqcBsO-O31Gw.jpeg","typename":"ImageMetadata"},"updatedAt":1576295210720,"topics":[{"type":"id","generated":false,"id":"machine-learning","typename":"Topic"},{"type":"id","generated":false,"id":"data-science","typename":"Topic"}],"seoDescription":"","isSuspended":false},"Collection:7219b4dc6c4c":{"id":"7219b4dc6c4c","domain":null,"slug":"analytics-vidhya","__typename":"Collection","auroraAlphaEnabled":false,"googleAnalyticsId":null,"colorBehavior":"ACCENT_COLOR","name":"Analytics Vidhya","logo":{"type":"id","generated":false,"id":"ImageMetadata:1*cK8jYS5H7rDYhb0vZkW4NA.png","typename":"ImageMetadata"},"avatar":{"type":"id","generated":false,"id":"ImageMetadata:1*miCA9MEw8TjpXyR0xY1w-A.png","typename":"ImageMetadata"},"isEnrolledInHightower":false,"creator":{"type":"id","generated":false,"id":"User:c7c686fcd4b","typename":"User"},"viewerIsEditor":false,"navItems":[{"type":"id","generated":true,"id":"Collection:7219b4dc6c4c.navItems.0","typename":"NavItem"},{"type":"id","generated":true,"id":"Collection:7219b4dc6c4c.navItems.1","typename":"NavItem"},{"type":"id","generated":true,"id":"Collection:7219b4dc6c4c.navItems.2","typename":"NavItem"},{"type":"id","generated":true,"id":"Collection:7219b4dc6c4c.navItems.3","typename":"NavItem"},{"type":"id","generated":true,"id":"Collection:7219b4dc6c4c.navItems.4","typename":"NavItem"},{"type":"id","generated":true,"id":"Collection:7219b4dc6c4c.navItems.5","typename":"NavItem"}],"colorPalette":{"type":"id","generated":true,"id":"$Collection:7219b4dc6c4c.colorPalette","typename":"ColorPalette"},"viewerCanEditOwnPosts":false,"viewerCanEditPosts":false,"description":"Analytics Vidhya is a community of Analytics and Data Science professionals. We are building the next-gen data science ecosystem https:\u002F\u002Fwww.analyticsvidhya.com","viewerIsFollowing":false,"viewerIsSubscribedToLetters":false,"isUserSubscribedToCollectionEmails":false,"ampEnabled":false,"twitterUsername":"analyticsvidhya","facebookPageId":null,"favicon":{"type":"id","generated":false,"id":"ImageMetadata:","typename":"ImageMetadata"}},"User:c611876588a8":{"id":"c611876588a8","__typename":"User","isSuspended":false,"allowNotes":true,"name":"Sarit Maitra","isFollowing":false,"username":"sarit.maitra","bio":"Data Science Practice Lead at KSG Analytics Pvt. Ltd.","imageId":"2*EF7JY4esV1_vtgjeCREHCQ.jpeg","mediumMemberAt":0,"isBlocking":false,"isPartnerProgramEnrolled":false,"twitterScreenName":"saritmaitra"},"ImageMetadata:1*cK8jYS5H7rDYhb0vZkW4NA.png":{"id":"1*cK8jYS5H7rDYhb0vZkW4NA.png","originalWidth":364,"originalHeight":90,"__typename":"ImageMetadata"},"ImageMetadata:1*miCA9MEw8TjpXyR0xY1w-A.png":{"id":"1*miCA9MEw8TjpXyR0xY1w-A.png","__typename":"ImageMetadata"},"User:c7c686fcd4b":{"id":"c7c686fcd4b","__typename":"User"},"Collection:7219b4dc6c4c.navItems.0":{"title":"About Us","url":"https:\u002F\u002Fmedium.com\u002Fanalytics-vidhya\u002Fabout","type":"ABOUT_PAGE_NAV_ITEM","__typename":"NavItem"},"Collection:7219b4dc6c4c.navItems.1":{"title":"Machine Learning","url":"https:\u002F\u002Fmedium.com\u002Fanalytics-vidhya\u002Ftagged\u002Fmachine-learning","type":"TAG_NAV_ITEM","__typename":"NavItem"},"Collection:7219b4dc6c4c.navItems.2":{"title":"Deep Learning","url":"https:\u002F\u002Fmedium.com\u002Fanalytics-vidhya\u002Ftagged\u002Fdeep-learning","type":"TAG_NAV_ITEM","__typename":"NavItem"},"Collection:7219b4dc6c4c.navItems.3":{"title":"Hackathons","url":"https:\u002F\u002Fmedium.com\u002Fanalytics-vidhya\u002Ftagged\u002Fhackathons","type":"TAG_NAV_ITEM","__typename":"NavItem"},"Collection:7219b4dc6c4c.navItems.4":{"title":"Contribute","url":"https:\u002F\u002Fmedium.com\u002Fanalytics-vidhya\u002Fcontribute\u002Fhome","type":"TOPIC_PAGE","__typename":"NavItem"},"Collection:7219b4dc6c4c.navItems.5":{"title":"Courses","url":"https:\u002F\u002Fcourses.analyticsvidhya.com","type":"EXTERNAL_LINK_NAV_ITEM","__typename":"NavItem"},"$Collection:7219b4dc6c4c.colorPalette":{"tintBackgroundSpectrum":null,"__typename":"ColorPalette","defaultBackgroundSpectrum":{"type":"id","generated":true,"id":"$Collection:7219b4dc6c4c.colorPalette.defaultBackgroundSpectrum","typename":"ColorSpectrum"},"highlightSpectrum":{"type":"id","generated":true,"id":"$Collection:7219b4dc6c4c.colorPalette.highlightSpectrum","typename":"ColorSpectrum"}},"$Collection:7219b4dc6c4c.colorPalette.defaultBackgroundSpectrum":{"backgroundColor":"#FFFFFFFF","colorPoints":[{"type":"id","generated":true,"id":"$Collection:7219b4dc6c4c.colorPalette.defaultBackgroundSpectrum.colorPoints.0","typename":"ColorPoint"},{"type":"id","generated":true,"id":"$Collection:7219b4dc6c4c.colorPalette.defaultBackgroundSpectrum.colorPoints.1","typename":"ColorPoint"},{"type":"id","generated":true,"id":"$Collection:7219b4dc6c4c.colorPalette.defaultBackgroundSpectrum.colorPoints.2","typename":"ColorPoint"},{"type":"id","generated":true,"id":"$Collection:7219b4dc6c4c.colorPalette.defaultBackgroundSpectrum.colorPoints.3","typename":"ColorPoint"}],"__typename":"ColorSpectrum"},"$Collection:7219b4dc6c4c.colorPalette.defaultBackgroundSpectrum.colorPoints.0":{"color":"#FF02B875","point":0,"__typename":"ColorPoint"},"$Collection:7219b4dc6c4c.colorPalette.defaultBackgroundSpectrum.colorPoints.1":{"color":"#FF00AB6B","point":0.1,"__typename":"ColorPoint"},"$Collection:7219b4dc6c4c.colorPalette.defaultBackgroundSpectrum.colorPoints.2":{"color":"#FF1C9963","point":0.2,"__typename":"ColorPoint"},"$Collection:7219b4dc6c4c.colorPalette.defaultBackgroundSpectrum.colorPoints.3":{"color":"#FF092E20","point":1,"__typename":"ColorPoint"},"$Collection:7219b4dc6c4c.colorPalette.highlightSpectrum":{"backgroundColor":"#FFFFFFFF","colorPoints":[{"type":"id","generated":true,"id":"$Collection:7219b4dc6c4c.colorPalette.highlightSpectrum.colorPoints.0","typename":"ColorPoint"},{"type":"id","generated":true,"id":"$Collection:7219b4dc6c4c.colorPalette.highlightSpectrum.colorPoints.1","typename":"ColorPoint"},{"type":"id","generated":true,"id":"$Collection:7219b4dc6c4c.colorPalette.highlightSpectrum.colorPoints.2","typename":"ColorPoint"},{"type":"id","generated":true,"id":"$Collection:7219b4dc6c4c.colorPalette.highlightSpectrum.colorPoints.3","typename":"ColorPoint"},{"type":"id","generated":true,"id":"$Collection:7219b4dc6c4c.colorPalette.highlightSpectrum.colorPoints.4","typename":"ColorPoint"}],"__typename":"ColorSpectrum"},"$Collection:7219b4dc6c4c.colorPalette.highlightSpectrum.colorPoints.0":{"color":"#FFFFFFFF","point":0,"__typename":"ColorPoint"},"$Collection:7219b4dc6c4c.colorPalette.highlightSpectrum.colorPoints.1":{"color":"#FFE9FDF0","point":0.1,"__typename":"ColorPoint"},"$Collection:7219b4dc6c4c.colorPalette.highlightSpectrum.colorPoints.2":{"color":"#FFE2FAEE","point":0.2,"__typename":"ColorPoint"},"$Collection:7219b4dc6c4c.colorPalette.highlightSpectrum.colorPoints.3":{"color":"#FFADFFCF","point":0.6,"__typename":"ColorPoint"},"$Collection:7219b4dc6c4c.colorPalette.highlightSpectrum.colorPoints.4":{"color":"#FF7DFFB3","point":1,"__typename":"ColorPoint"},"$Post:15f9cb3653b0.content({\"postMeteringOptions\":{}})":{"isLockedPreviewOnly":false,"validatedShareKey":"","__typename":"PostContent","bodyModel":{"type":"id","generated":true,"id":"$Post:15f9cb3653b0.content({\"postMeteringOptions\":{}}).bodyModel","typename":"RichText"}},"data-science":{"name":"Data Science","slug":"data-science","__typename":"Topic","isFollowing":null},"$Post:15f9cb3653b0.content({\"postMeteringOptions\":{}}).bodyModel.sections.0":{"name":"b3c1","startIndex":0,"textLayout":null,"imageLayout":null,"backgroundImage":null,"videoLayout":null,"backgroundVideo":null,"__typename":"Section"},"$Post:15f9cb3653b0.content({\"postMeteringOptions\":{}}).bodyModel":{"sections":[{"type":"id","generated":true,"id":"$Post:15f9cb3653b0.content({\"postMeteringOptions\":{}}).bodyModel.sections.0","typename":"Section"}],"paragraphs":[{"type":"id","generated":false,"id":"Paragraph:549c5523cc80_0","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:549c5523cc80_1","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:549c5523cc80_2","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:549c5523cc80_3","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:549c5523cc80_4","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:549c5523cc80_5","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:549c5523cc80_6","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:549c5523cc80_7","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:549c5523cc80_8","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:549c5523cc80_9","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:549c5523cc80_10","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:549c5523cc80_11","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:549c5523cc80_12","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:549c5523cc80_13","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:549c5523cc80_14","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:549c5523cc80_15","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:549c5523cc80_16","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:549c5523cc80_17","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:549c5523cc80_18","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:549c5523cc80_19","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:549c5523cc80_20","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:549c5523cc80_21","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:549c5523cc80_22","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:549c5523cc80_23","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:549c5523cc80_24","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:549c5523cc80_25","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:549c5523cc80_26","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:549c5523cc80_27","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:549c5523cc80_28","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:549c5523cc80_29","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:549c5523cc80_30","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:549c5523cc80_31","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:549c5523cc80_32","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:549c5523cc80_33","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:549c5523cc80_34","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:549c5523cc80_35","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:549c5523cc80_36","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:549c5523cc80_37","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:549c5523cc80_38","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:549c5523cc80_39","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:549c5523cc80_40","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:549c5523cc80_41","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:549c5523cc80_42","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:549c5523cc80_43","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:549c5523cc80_44","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:549c5523cc80_45","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:549c5523cc80_46","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:549c5523cc80_47","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:549c5523cc80_48","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:549c5523cc80_49","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:549c5523cc80_50","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:549c5523cc80_51","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:549c5523cc80_52","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:549c5523cc80_53","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:549c5523cc80_54","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:549c5523cc80_55","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:549c5523cc80_56","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:549c5523cc80_57","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:549c5523cc80_58","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:549c5523cc80_59","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:549c5523cc80_60","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:549c5523cc80_61","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:549c5523cc80_62","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:549c5523cc80_63","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:549c5523cc80_64","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:549c5523cc80_65","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:549c5523cc80_66","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:549c5523cc80_67","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:549c5523cc80_68","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:549c5523cc80_69","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:549c5523cc80_70","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:549c5523cc80_71","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:549c5523cc80_72","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:549c5523cc80_73","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:549c5523cc80_74","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:549c5523cc80_75","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:549c5523cc80_76","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:549c5523cc80_77","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:549c5523cc80_78","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:549c5523cc80_79","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:549c5523cc80_80","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:549c5523cc80_81","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:549c5523cc80_82","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:549c5523cc80_83","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:549c5523cc80_84","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:549c5523cc80_85","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:549c5523cc80_86","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:549c5523cc80_87","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:549c5523cc80_88","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:549c5523cc80_89","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:549c5523cc80_90","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:549c5523cc80_91","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:549c5523cc80_92","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:549c5523cc80_93","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:549c5523cc80_94","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:549c5523cc80_95","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:549c5523cc80_96","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:549c5523cc80_97","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:549c5523cc80_98","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:549c5523cc80_99","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:549c5523cc80_100","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:549c5523cc80_101","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:549c5523cc80_102","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:549c5523cc80_103","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:549c5523cc80_104","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:549c5523cc80_105","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:549c5523cc80_106","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:549c5523cc80_107","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:549c5523cc80_108","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:549c5523cc80_109","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:549c5523cc80_110","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:549c5523cc80_111","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:549c5523cc80_112","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:549c5523cc80_113","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:549c5523cc80_114","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:549c5523cc80_115","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:549c5523cc80_116","typename":"Paragraph"}],"__typename":"RichText"},"Paragraph:549c5523cc80_0":{"id":"549c5523cc80_0","name":"ca7c","type":"H3","href":null,"layout":null,"metadata":null,"text":"Integrated Approach of RFM, Clustering, CLTV & Machine Learning Algorithms for Forecasting: an example with Python coding","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:549c5523cc80_1":{"id":"549c5523cc80_1","name":"f759","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"type":"id","generated":false,"id":"ImageMetadata:1*1hewbDXYm6XqcBsO-O31Gw.jpeg","typename":"ImageMetadata"},"text":"","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"ImageMetadata:1*1hewbDXYm6XqcBsO-O31Gw.jpeg":{"id":"1*1hewbDXYm6XqcBsO-O31Gw.jpeg","originalHeight":781,"originalWidth":1280,"focusPercentX":null,"focusPercentY":null,"alt":null,"__typename":"ImageMetadata"},"Paragraph:549c5523cc80_2":{"id":"549c5523cc80_2","name":"7786","type":"P","href":null,"layout":null,"metadata":null,"text":"CLTV is a customer relationship management (CRM) issue with an enterprise approach to understanding and influencing customer behavior through meaningful communication to improve customer acquisition, customer retention, customer loyalty, and customer profitability. The whole idea is that, business wants to predict the average amount of $$ customers will spend on the business over the entire life of relationship.","hasDropCap":true,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:549c5523cc80_2.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:549c5523cc80_2.markups.0":{"type":"STRONG","start":0,"end":4,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:549c5523cc80_3":{"id":"549c5523cc80_3","name":"af8a","type":"P","href":null,"layout":null,"metadata":null,"text":"Although statistical methods can be very powerful, but these methods make several stringent assumptions on the types of data and their distribution, and typically can only handle a limited number of variables. Regression-based methods are usually based on a ﬁxed-form equation, and assume a single best solution, which means that we can compare only a few alternative solutions manually. Further, when the models are applied to real data, the key assumptions of the methods are often violated. Here, I will show Machine Learning (ML) methods by integrating the CLTV and customer transaction variables with the RFM variables to forecast consumer purchases.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:549c5523cc80_3.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:549c5523cc80_3.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:549c5523cc80_3.markups.2","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:549c5523cc80_3.markups.3","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:549c5523cc80_3.markups.4","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:549c5523cc80_3.markups.5","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:549c5523cc80_3.markups.0":{"type":"STRONG","start":512,"end":529,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:549c5523cc80_3.markups.1":{"type":"STRONG","start":561,"end":565,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:549c5523cc80_3.markups.2":{"type":"STRONG","start":610,"end":613,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:549c5523cc80_3.markups.3":{"type":"EM","start":512,"end":529,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:549c5523cc80_3.markups.4":{"type":"EM","start":561,"end":565,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:549c5523cc80_3.markups.5":{"type":"EM","start":610,"end":613,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:549c5523cc80_4":{"id":"549c5523cc80_4","name":"4abf","type":"P","href":null,"layout":null,"metadata":null,"text":"I will use two approaches here —","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:549c5523cc80_5":{"id":"549c5523cc80_5","name":"65c4","type":"BQ","href":null,"layout":null,"metadata":null,"text":"1st approach- RFM (Recency, Frequency, and Monetary) marketing analysis method is used in order to segmentation of customers and","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:549c5523cc80_5.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:549c5523cc80_5.markups.0":{"type":"STRONG","start":14,"end":52,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:549c5523cc80_6":{"id":"549c5523cc80_6","name":"cff1","type":"BQ","href":null,"layout":null,"metadata":null,"text":"2nd approach using Customer Lifetime Value (CLTV) will train a ML algorithm for prediction. I will use 3 months of data to calculate RFM and use it for predicting next 6 months.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:549c5523cc80_6.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:549c5523cc80_6.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:549c5523cc80_6.markups.2","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:549c5523cc80_6.markups.3","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:549c5523cc80_6.markups.0":{"type":"STRONG","start":19,"end":50,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:549c5523cc80_6.markups.1":{"type":"STRONG","start":63,"end":66,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:549c5523cc80_6.markups.2":{"type":"STRONG","start":80,"end":90,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:549c5523cc80_6.markups.3":{"type":"STRONG","start":133,"end":137,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:549c5523cc80_7":{"id":"549c5523cc80_7","name":"e799","type":"P","href":null,"layout":null,"metadata":null,"text":"RFM is a scoring model attempt to predict customers’ behavior in the future and implicitly linked to CLTV. One key limitation of RFM models is that they are scoring models and do not explicitly provide a $ number for customer value. A simple equation to derive CLTV for a customer","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:549c5523cc80_7.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:549c5523cc80_7.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:549c5523cc80_7.markups.2","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:549c5523cc80_7.markups.3","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:549c5523cc80_7.markups.4","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:549c5523cc80_7.markups.5","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:549c5523cc80_7.markups.6","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:549c5523cc80_7.markups.7","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:549c5523cc80_7.markups.0":{"type":"STRONG","start":0,"end":3,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:549c5523cc80_7.markups.1":{"type":"STRONG","start":101,"end":105,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:549c5523cc80_7.markups.2":{"type":"STRONG","start":129,"end":132,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:549c5523cc80_7.markups.3":{"type":"STRONG","start":261,"end":265,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:549c5523cc80_7.markups.4":{"type":"EM","start":0,"end":3,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:549c5523cc80_7.markups.5":{"type":"EM","start":101,"end":105,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:549c5523cc80_7.markups.6":{"type":"EM","start":129,"end":132,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:549c5523cc80_7.markups.7":{"type":"EM","start":261,"end":265,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:549c5523cc80_8":{"id":"549c5523cc80_8","name":"a489","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"type":"id","generated":false,"id":"ImageMetadata:1*GXgNCsSTFH4KeFdoanA1Cg.png","typename":"ImageMetadata"},"text":"","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"ImageMetadata:1*GXgNCsSTFH4KeFdoanA1Cg.png":{"id":"1*GXgNCsSTFH4KeFdoanA1Cg.png","originalHeight":69,"originalWidth":288,"focusPercentX":null,"focusPercentY":null,"alt":null,"__typename":"ImageMetadata"},"Paragraph:549c5523cc80_9":{"id":"549c5523cc80_9","name":"e780","type":"ULI","href":null,"layout":null,"metadata":null,"text":"pt= price paid by a consumer at time t,","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:549c5523cc80_10":{"id":"549c5523cc80_10","name":"6ecb","type":"ULI","href":null,"layout":null,"metadata":null,"text":"ct = direct cost of servicing the customer at time t,","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:549c5523cc80_11":{"id":"549c5523cc80_11","name":"1af8","type":"ULI","href":null,"layout":null,"metadata":null,"text":"i = discount rate or cost of capital for the firm,","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:549c5523cc80_12":{"id":"549c5523cc80_12","name":"204d","type":"ULI","href":null,"layout":null,"metadata":null,"text":"rt = probability of customer repeat buying or being “alive” at time t,","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:549c5523cc80_13":{"id":"549c5523cc80_13","name":"c3ce","type":"ULI","href":null,"layout":null,"metadata":null,"text":"AC = acquisition cost, and","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:549c5523cc80_14":{"id":"549c5523cc80_14","name":"9eb7","type":"ULI","href":null,"layout":null,"metadata":null,"text":"T = time horizon for estimating CLTV.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:549c5523cc80_14.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:549c5523cc80_14.markups.1","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:549c5523cc80_14.markups.0":{"type":"STRONG","start":32,"end":36,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:549c5523cc80_14.markups.1":{"type":"EM","start":32,"end":36,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:549c5523cc80_15":{"id":"549c5523cc80_15","name":"2173","type":"H3","href":null,"layout":null,"metadata":null,"text":"Data Mining","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:549c5523cc80_16":{"id":"549c5523cc80_16","name":"b66f","type":"P","href":null,"layout":null,"metadata":null,"text":"Let’s load and see the data.","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:549c5523cc80_17":{"id":"549c5523cc80_17","name":"8e36","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"type":"id","generated":false,"id":"ImageMetadata:1*6ODjcx3C8B9cMS6ySR9FQg.png","typename":"ImageMetadata"},"text":"","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"ImageMetadata:1*6ODjcx3C8B9cMS6ySR9FQg.png":{"id":"1*6ODjcx3C8B9cMS6ySR9FQg.png","originalHeight":284,"originalWidth":1299,"focusPercentX":null,"focusPercentY":null,"alt":null,"__typename":"ImageMetadata"},"Paragraph:549c5523cc80_18":{"id":"549c5523cc80_18","name":"c7ad","type":"P","href":null,"layout":null,"metadata":null,"text":"We have all the necessary information that we need:","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:549c5523cc80_19":{"id":"549c5523cc80_19","name":"f8f7","type":"ULI","href":null,"layout":null,"metadata":null,"text":"Customer ID","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:549c5523cc80_20":{"id":"549c5523cc80_20","name":"77a6","type":"ULI","href":null,"layout":null,"metadata":null,"text":"Unit Price","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:549c5523cc80_21":{"id":"549c5523cc80_21","name":"b219","type":"ULI","href":null,"layout":null,"metadata":null,"text":"Quantity","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:549c5523cc80_22":{"id":"549c5523cc80_22","name":"1e44","type":"ULI","href":null,"layout":null,"metadata":null,"text":"Invoice Date","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:549c5523cc80_23":{"id":"549c5523cc80_23","name":"8d9e","type":"P","href":null,"layout":null,"metadata":null,"text":"With all these features, we can build the equation for Monetary value= Active Customer Count * Order Count * Average Revenue per Order","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:549c5523cc80_23.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:549c5523cc80_23.markups.0":{"type":"EM","start":71,"end":134,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:549c5523cc80_24":{"id":"549c5523cc80_24","name":"ed8a","type":"PRE","href":null,"layout":null,"metadata":null,"text":"df[‘InvoiceDate’] = pd.to_datetime(df[‘InvoiceDate’]) #convert the type of Invoice Date Field from string to datetime.","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:549c5523cc80_25":{"id":"549c5523cc80_25","name":"0bce","type":"PRE","href":null,"layout":null,"metadata":null,"text":"df[‘InvoiceYearMonth’] = df[‘InvoiceDate’].map(lambda date: 100*date.year + date.month) #create YearMonth field","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:549c5523cc80_26":{"id":"549c5523cc80_26","name":"9273","type":"PRE","href":null,"layout":null,"metadata":null,"text":"df[‘Monetary’] = df[‘UnitPrice’] * df[‘Quantity’] #calculate Monetary for each row and create a new data frame with YearMonth — Monetary columns","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:549c5523cc80_27":{"id":"549c5523cc80_27","name":"e870","type":"PRE","href":null,"layout":null,"metadata":null,"text":"monetary = df.groupby([‘InvoiceYearMonth’])[‘Monetary’].sum().reset_index()","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:549c5523cc80_28":{"id":"549c5523cc80_28","name":"219a","type":"P","href":null,"layout":null,"metadata":null,"text":"Before we dive into RFM score, we can do some analysis to know more about customer behavior such as Monthly Active Customers\u002F Monthly Order Count\u002FAverage Revenue per Order \u002FNew Customer Ratio\u002F Monthly Customer Retention Rate etc. Interested may visit here to know about the such analysis. So, I will start with segmentation.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:549c5523cc80_28.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:549c5523cc80_28.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:549c5523cc80_28.markups.2","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:549c5523cc80_28.markups.3","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:549c5523cc80_28.markups.4","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:549c5523cc80_28.markups.0":{"type":"A","start":251,"end":255,"href":"https:\u002F\u002Fgithub.com\u002Fsaritmaitra\u002FSegmentation-Clustering\u002Fblob\u002Fmaster\u002FRFM_%26_XGB.ipynb","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:549c5523cc80_28.markups.1":{"type":"STRONG","start":20,"end":23,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:549c5523cc80_28.markups.2":{"type":"STRONG","start":251,"end":255,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:549c5523cc80_28.markups.3":{"type":"EM","start":20,"end":23,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:549c5523cc80_28.markups.4":{"type":"EM","start":251,"end":255,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:549c5523cc80_29":{"id":"549c5523cc80_29","name":"a89a","type":"H3","href":null,"layout":null,"metadata":null,"text":"Customer Segmentation","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:549c5523cc80_30":{"id":"549c5523cc80_30","name":"7ae1","type":"P","href":null,"layout":null,"metadata":null,"text":"Let’s assume some common segments-","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:549c5523cc80_31":{"id":"549c5523cc80_31","name":"5642","type":"ULI","href":null,"layout":null,"metadata":null,"text":"Low Value- Customers who are less active than others, not very frequent buyer\u002Fvisitor and generates very low — zero — maybe negative revenue.","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:549c5523cc80_32":{"id":"549c5523cc80_32","name":"5758","type":"ULI","href":null,"layout":null,"metadata":null,"text":"Mid Value- Customers who are fairly frequent and generates moderate revenue.","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:549c5523cc80_33":{"id":"549c5523cc80_33","name":"b6c0","type":"ULI","href":null,"layout":null,"metadata":null,"text":"High Value- Customers with High Revenue, Frequency and low Inactivity; business always want to retain these customers.","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:549c5523cc80_34":{"id":"549c5523cc80_34","name":"dee5","type":"P","href":null,"layout":null,"metadata":null,"text":"We shall calculate RFM Value and apply unsupervised ML to identify different clusters for each by applyting K-means clustering to assign a recency score. Number of clusters generally defined by business, we need to K-means algorithm. However, Elbow Method of K-means helps us to know the optimal cluster number.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:549c5523cc80_34.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:549c5523cc80_34.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:549c5523cc80_34.markups.2","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:549c5523cc80_34.markups.3","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:549c5523cc80_34.markups.4","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:549c5523cc80_34.markups.5","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:549c5523cc80_34.markups.6","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:549c5523cc80_34.markups.7","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:549c5523cc80_34.markups.8","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:549c5523cc80_34.markups.9","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:549c5523cc80_34.markups.10","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:549c5523cc80_34.markups.11","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:549c5523cc80_34.markups.0":{"type":"STRONG","start":19,"end":22,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:549c5523cc80_34.markups.1":{"type":"STRONG","start":108,"end":115,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:549c5523cc80_34.markups.2":{"type":"STRONG","start":139,"end":147,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:549c5523cc80_34.markups.3":{"type":"STRONG","start":215,"end":222,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:549c5523cc80_34.markups.4":{"type":"STRONG","start":243,"end":255,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:549c5523cc80_34.markups.5":{"type":"STRONG","start":259,"end":266,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:549c5523cc80_34.markups.6":{"type":"EM","start":19,"end":22,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:549c5523cc80_34.markups.7":{"type":"EM","start":108,"end":115,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:549c5523cc80_34.markups.8":{"type":"EM","start":139,"end":147,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:549c5523cc80_34.markups.9":{"type":"EM","start":215,"end":222,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:549c5523cc80_34.markups.10":{"type":"EM","start":243,"end":255,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:549c5523cc80_34.markups.11":{"type":"EM","start":259,"end":266,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:549c5523cc80_35":{"id":"549c5523cc80_35","name":"fca6","type":"H3","href":null,"layout":null,"metadata":null,"text":"Recency","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:549c5523cc80_36":{"id":"549c5523cc80_36","name":"7718","type":"P","href":null,"layout":null,"metadata":null,"text":"To calculate recency, we need to find out most recent purchase date of each customer and see how many days they are inactive for. After having no. of inactive days for each customer, we will apply K-means clustering to assign customers a recency score.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:549c5523cc80_36.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:549c5523cc80_36.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:549c5523cc80_36.markups.2","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:549c5523cc80_36.markups.3","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:549c5523cc80_36.markups.4","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:549c5523cc80_36.markups.5","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:549c5523cc80_36.markups.0":{"type":"STRONG","start":13,"end":20,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:549c5523cc80_36.markups.1":{"type":"STRONG","start":197,"end":204,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:549c5523cc80_36.markups.2":{"type":"STRONG","start":238,"end":245,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:549c5523cc80_36.markups.3":{"type":"EM","start":13,"end":20,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:549c5523cc80_36.markups.4":{"type":"EM","start":197,"end":204,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:549c5523cc80_36.markups.5":{"type":"EM","start":238,"end":245,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:549c5523cc80_37":{"id":"549c5523cc80_37","name":"6ef2","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"type":"id","generated":false,"id":"ImageMetadata:1*aPJQQzz31t1W4robPpCjjQ.png","typename":"ImageMetadata"},"text":"","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"ImageMetadata:1*aPJQQzz31t1W4robPpCjjQ.png":{"id":"1*aPJQQzz31t1W4robPpCjjQ.png","originalHeight":501,"originalWidth":1031,"focusPercentX":null,"focusPercentY":null,"alt":null,"__typename":"ImageMetadata"},"Paragraph:549c5523cc80_38":{"id":"549c5523cc80_38","name":"e680","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"type":"id","generated":false,"id":"ImageMetadata:1*nswCdx0cC1505k2oCayxgw.png","typename":"ImageMetadata"},"text":"","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"ImageMetadata:1*nswCdx0cC1505k2oCayxgw.png":{"id":"1*nswCdx0cC1505k2oCayxgw.png","originalHeight":615,"originalWidth":641,"focusPercentX":null,"focusPercentY":null,"alt":null,"__typename":"ImageMetadata"},"Paragraph:549c5523cc80_39":{"id":"549c5523cc80_39","name":"f938","type":"P","href":null,"layout":null,"metadata":null,"text":"Here it looks we have 3 clusters. Based on business requirements, we can go with less or more clusters. Let us select 4 for this example:","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:549c5523cc80_40":{"id":"549c5523cc80_40","name":"072c","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"type":"id","generated":false,"id":"ImageMetadata:1*8P3K63Ny__BJrNC6Y28MQQ.png","typename":"ImageMetadata"},"text":"","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"ImageMetadata:1*8P3K63Ny__BJrNC6Y28MQQ.png":{"id":"1*8P3K63Ny__BJrNC6Y28MQQ.png","originalHeight":625,"originalWidth":947,"focusPercentX":null,"focusPercentY":null,"alt":null,"__typename":"ImageMetadata"},"Paragraph:549c5523cc80_41":{"id":"549c5523cc80_41","name":"ac87","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"type":"id","generated":false,"id":"ImageMetadata:1*G_1M2Sd2LHWlj6MzM61Pvw.png","typename":"ImageMetadata"},"text":"","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"ImageMetadata:1*G_1M2Sd2LHWlj6MzM61Pvw.png":{"id":"1*G_1M2Sd2LHWlj6MzM61Pvw.png","originalHeight":402,"originalWidth":753,"focusPercentX":null,"focusPercentY":null,"alt":null,"__typename":"ImageMetadata"},"Paragraph:549c5523cc80_42":{"id":"549c5523cc80_42","name":"f8b6","type":"P","href":null,"layout":null,"metadata":null,"text":"Likewise, we can do Frequency and Monetary and finally the Overall Score.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:549c5523cc80_42.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:549c5523cc80_42.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:549c5523cc80_42.markups.2","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:549c5523cc80_42.markups.3","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:549c5523cc80_42.markups.0":{"type":"STRONG","start":19,"end":29,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:549c5523cc80_42.markups.1":{"type":"STRONG","start":34,"end":42,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:549c5523cc80_42.markups.2":{"type":"EM","start":19,"end":29,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:549c5523cc80_42.markups.3":{"type":"EM","start":34,"end":42,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:549c5523cc80_43":{"id":"549c5523cc80_43","name":"6e4f","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"type":"id","generated":false,"id":"ImageMetadata:1*Jx8NNI16xjHzPO4Lra5vrg.png","typename":"ImageMetadata"},"text":"","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"ImageMetadata:1*Jx8NNI16xjHzPO4Lra5vrg.png":{"id":"1*Jx8NNI16xjHzPO4Lra5vrg.png","originalHeight":384,"originalWidth":943,"focusPercentX":null,"focusPercentY":null,"alt":null,"__typename":"ImageMetadata"},"Paragraph:549c5523cc80_44":{"id":"549c5523cc80_44","name":"ef18","type":"P","href":null,"layout":null,"metadata":null,"text":"We divide these cluster in High\u002FMid\u002FLow — 0 to 2- Low \u002F 3 to 4- Value \u002F 5+- High Value customers","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:549c5523cc80_45":{"id":"549c5523cc80_45","name":"4552","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"type":"id","generated":false,"id":"ImageMetadata:1*p9tcVZ1Lvrm4BpN61hkVxw.png","typename":"ImageMetadata"},"text":"","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"ImageMetadata:1*p9tcVZ1Lvrm4BpN61hkVxw.png":{"id":"1*p9tcVZ1Lvrm4BpN61hkVxw.png","originalHeight":322,"originalWidth":1130,"focusPercentX":null,"focusPercentY":null,"alt":null,"__typename":"ImageMetadata"},"Paragraph:549c5523cc80_46":{"id":"549c5523cc80_46","name":"bfab","type":"P","href":null,"layout":null,"metadata":null,"text":"The descriptive statistics of the respective RFM is show below—","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:549c5523cc80_46.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:549c5523cc80_46.markups.1","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:549c5523cc80_46.markups.0":{"type":"STRONG","start":45,"end":48,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:549c5523cc80_46.markups.1":{"type":"EM","start":45,"end":48,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:549c5523cc80_47":{"id":"549c5523cc80_47","name":"c8f0","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"type":"id","generated":false,"id":"ImageMetadata:1*ygJZpsOtr6Sq3UDa7NqStA.png","typename":"ImageMetadata"},"text":"","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"ImageMetadata:1*ygJZpsOtr6Sq3UDa7NqStA.png":{"id":"1*ygJZpsOtr6Sq3UDa7NqStA.png","originalHeight":387,"originalWidth":741,"focusPercentX":null,"focusPercentY":null,"alt":null,"__typename":"ImageMetadata"},"Paragraph:549c5523cc80_48":{"id":"549c5523cc80_48","name":"95a3","type":"P","href":null,"layout":null,"metadata":null,"text":"We see that even though the average is 90 day recency, median is 49. Negative Monetary value at min indicating return of items. The test statistic values and below distribution & QQ plots confirm that data set do not follow a normal distribution. Therefore, the use of nonparametric \nframework for making predictions is justified.","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:549c5523cc80_49":{"id":"549c5523cc80_49","name":"e7d7","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"type":"id","generated":false,"id":"ImageMetadata:1*sHeomamDA0CgpOyZUJNlKQ.png","typename":"ImageMetadata"},"text":"","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"ImageMetadata:1*sHeomamDA0CgpOyZUJNlKQ.png":{"id":"1*sHeomamDA0CgpOyZUJNlKQ.png","originalHeight":747,"originalWidth":923,"focusPercentX":null,"focusPercentY":null,"alt":null,"__typename":"ImageMetadata"},"Paragraph:549c5523cc80_50":{"id":"549c5523cc80_50","name":"d44a","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"type":"id","generated":false,"id":"ImageMetadata:1*088DM6rYKPTzdIRJyHvPwQ.png","typename":"ImageMetadata"},"text":"","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"ImageMetadata:1*088DM6rYKPTzdIRJyHvPwQ.png":{"id":"1*088DM6rYKPTzdIRJyHvPwQ.png","originalHeight":775,"originalWidth":925,"focusPercentX":null,"focusPercentY":null,"alt":null,"__typename":"ImageMetadata"},"Paragraph:549c5523cc80_51":{"id":"549c5523cc80_51","name":"081f","type":"P","href":null,"layout":null,"metadata":null,"text":"Evidences from the statistical tests imply that data characterized by their nonparametric nature behavior. This justifies the deployment of advanced ML\nand deep learning algorithms for predictive modeling exercise. However, I have not exercised deep learning algorithm here.","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:549c5523cc80_52":{"id":"549c5523cc80_52","name":"7288","type":"P","href":null,"layout":null,"metadata":null,"text":"We can start taking actions with this segmentation. The strategies are simple for all three classes:","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:549c5523cc80_53":{"id":"549c5523cc80_53","name":"62dd","type":"ULI","href":null,"layout":null,"metadata":null,"text":"Improve retention of High Value customer","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:549c5523cc80_54":{"id":"549c5523cc80_54","name":"4067","type":"ULI","href":null,"layout":null,"metadata":null,"text":"Improve retention and increase frequency of Mid Value customer","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:549c5523cc80_55":{"id":"549c5523cc80_55","name":"d79b","type":"ULI","href":null,"layout":null,"metadata":null,"text":"Increase Frequency of Low Value customer","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:549c5523cc80_56":{"id":"549c5523cc80_56","name":"8c16","type":"H3","href":null,"layout":null,"metadata":null,"text":"Customer Lifetime Value (CLTV)","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:549c5523cc80_57":{"id":"549c5523cc80_57","name":"7584","type":"P","href":null,"layout":null,"metadata":null,"text":"CLTV is quite simple here. First we will select a time window anything from 3, 6, 12, or 24 months. We can have compute the CLTV for each customer in that specific time window with an equation: Total Gross Revenue -Total Cost. This equation based on historical data and gives us the historical value. If we see some customers having very high negative lifetime value historically then probably we are too late to take an action. Let’s use ML algorithm to predict.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:549c5523cc80_57.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:549c5523cc80_57.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:549c5523cc80_57.markups.2","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:549c5523cc80_57.markups.3","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:549c5523cc80_57.markups.4","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:549c5523cc80_57.markups.5","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:549c5523cc80_57.markups.6","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:549c5523cc80_57.markups.7","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:549c5523cc80_57.markups.0":{"type":"STRONG","start":0,"end":4,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:549c5523cc80_57.markups.1":{"type":"STRONG","start":124,"end":128,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:549c5523cc80_57.markups.2":{"type":"STRONG","start":194,"end":225,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:549c5523cc80_57.markups.3":{"type":"STRONG","start":441,"end":442,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:549c5523cc80_57.markups.4":{"type":"EM","start":0,"end":4,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:549c5523cc80_57.markups.5":{"type":"EM","start":124,"end":128,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:549c5523cc80_57.markups.6":{"type":"EM","start":194,"end":225,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:549c5523cc80_57.markups.7":{"type":"EM","start":441,"end":442,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:549c5523cc80_58":{"id":"549c5523cc80_58","name":"e713","type":"H3","href":null,"layout":null,"metadata":null,"text":"CLTV Prediction","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:549c5523cc80_59":{"id":"549c5523cc80_59","name":"71f7","type":"P","href":null,"layout":null,"metadata":null,"text":"So, let’s follow the steps-","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:549c5523cc80_60":{"id":"549c5523cc80_60","name":"fb4a","type":"ULI","href":null,"layout":null,"metadata":null,"text":"Define an appropriate time frame for CLTV calculation","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:549c5523cc80_60.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:549c5523cc80_60.markups.1","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:549c5523cc80_60.markups.0":{"type":"STRONG","start":37,"end":41,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:549c5523cc80_60.markups.1":{"type":"EM","start":37,"end":41,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:549c5523cc80_61":{"id":"549c5523cc80_61","name":"405d","type":"ULI","href":null,"layout":null,"metadata":null,"text":"Identify the features we are going to use to predict future and create them","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:549c5523cc80_62":{"id":"549c5523cc80_62","name":"5732","type":"ULI","href":null,"layout":null,"metadata":null,"text":"Calculate CLTV for training the ML model","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:549c5523cc80_62.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:549c5523cc80_62.markups.1","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:549c5523cc80_62.markups.0":{"type":"STRONG","start":10,"end":14,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:549c5523cc80_62.markups.1":{"type":"EM","start":10,"end":14,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:549c5523cc80_63":{"id":"549c5523cc80_63","name":"5fe3","type":"ULI","href":null,"layout":null,"metadata":null,"text":"Build and run the ML model","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:549c5523cc80_64":{"id":"549c5523cc80_64","name":"1bb5","type":"ULI","href":null,"layout":null,"metadata":null,"text":"Check if the model is useful","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:549c5523cc80_65":{"id":"549c5523cc80_65","name":"f9eb","type":"P","href":null,"layout":null,"metadata":null,"text":"We already have obtained the RFM scores for each customer ID. To implement it correctly, let’s split our dataset. I will take 3 months of data, calculate RFM and use it for predicting next 6 months.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:549c5523cc80_65.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:549c5523cc80_65.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:549c5523cc80_65.markups.2","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:549c5523cc80_65.markups.3","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:549c5523cc80_65.markups.0":{"type":"STRONG","start":29,"end":32,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:549c5523cc80_65.markups.1":{"type":"STRONG","start":154,"end":157,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:549c5523cc80_65.markups.2":{"type":"EM","start":29,"end":32,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:549c5523cc80_65.markups.3":{"type":"EM","start":154,"end":157,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:549c5523cc80_66":{"id":"549c5523cc80_66","name":"4e3e","type":"BQ","href":null,"layout":null,"metadata":null,"text":"#create 3m and 6m dataframes\nm3 = DF_uk[(DF_uk.InvoiceDate \u003C date(2011,6,1)) & (DF_uk.InvoiceDate \u003E= date(2011,3,1))].reset_index(drop=True)\nm6 = DF_uk[(DF_uk.InvoiceDate \u003E= date(2011,6,1)) & (DF_uk.InvoiceDate \u003C date(2011,12,1))].reset_index(drop=True)","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:549c5523cc80_67":{"id":"549c5523cc80_67","name":"2b03","type":"P","href":null,"layout":null,"metadata":null,"text":"Now, the similar process of clustering, computing RFM and overall scoring of each data frame and finally merging the 3 months and 6 months data frames to see correlations between CLTV and the feature set we have.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:549c5523cc80_67.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:549c5523cc80_67.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:549c5523cc80_67.markups.2","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:549c5523cc80_67.markups.3","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:549c5523cc80_67.markups.0":{"type":"STRONG","start":50,"end":53,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:549c5523cc80_67.markups.1":{"type":"STRONG","start":179,"end":183,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:549c5523cc80_67.markups.2":{"type":"EM","start":50,"end":53,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:549c5523cc80_67.markups.3":{"type":"EM","start":179,"end":183,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:549c5523cc80_68":{"id":"549c5523cc80_68","name":"293a","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"type":"id","generated":false,"id":"ImageMetadata:1*WW257W-BBrszDfQ2iT2C8Q.png","typename":"ImageMetadata"},"text":"","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"ImageMetadata:1*WW257W-BBrszDfQ2iT2C8Q.png":{"id":"1*WW257W-BBrszDfQ2iT2C8Q.png","originalHeight":532,"originalWidth":1418,"focusPercentX":null,"focusPercentY":null,"alt":null,"__typename":"ImageMetadata"},"Paragraph:549c5523cc80_69":{"id":"549c5523cc80_69","name":"9a19","type":"P","href":null,"layout":null,"metadata":null,"text":"Here, by applying K-means clustering, we can identify the existing CLTV groups and build segments on top of it. Considering business part of this analysis, we need to treat customers differently based on their predicted CLTV. For this example, we will apply clustering and have 3 segments (number of segments really depends on your business dynamics and goals):\n- Low CLTV\n- Mid CLTV\n- High CLTV","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:549c5523cc80_69.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:549c5523cc80_69.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:549c5523cc80_69.markups.2","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:549c5523cc80_69.markups.3","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:549c5523cc80_69.markups.4","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:549c5523cc80_69.markups.5","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:549c5523cc80_69.markups.6","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:549c5523cc80_69.markups.7","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:549c5523cc80_69.markups.8","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:549c5523cc80_69.markups.9","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:549c5523cc80_69.markups.0":{"type":"STRONG","start":67,"end":71,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:549c5523cc80_69.markups.1":{"type":"STRONG","start":220,"end":224,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:549c5523cc80_69.markups.2":{"type":"STRONG","start":368,"end":372,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:549c5523cc80_69.markups.3":{"type":"STRONG","start":379,"end":383,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:549c5523cc80_69.markups.4":{"type":"STRONG","start":391,"end":395,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:549c5523cc80_69.markups.5":{"type":"EM","start":67,"end":71,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:549c5523cc80_69.markups.6":{"type":"EM","start":220,"end":224,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:549c5523cc80_69.markups.7":{"type":"EM","start":368,"end":372,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:549c5523cc80_69.markups.8":{"type":"EM","start":379,"end":383,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:549c5523cc80_69.markups.9":{"type":"EM","start":391,"end":395,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:549c5523cc80_70":{"id":"549c5523cc80_70","name":"8a36","type":"P","href":null,"layout":null,"metadata":null,"text":"We are going to apply K-means clustering to decide segments and observe their characteristics:","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:549c5523cc80_71":{"id":"549c5523cc80_71","name":"b605","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"type":"id","generated":false,"id":"ImageMetadata:1*Z-6DaWbJh2Ee5qWqSETzzQ.png","typename":"ImageMetadata"},"text":"","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"ImageMetadata:1*Z-6DaWbJh2Ee5qWqSETzzQ.png":{"id":"1*Z-6DaWbJh2Ee5qWqSETzzQ.png","originalHeight":625,"originalWidth":1214,"focusPercentX":null,"focusPercentY":null,"alt":null,"__typename":"ImageMetadata"},"Paragraph:549c5523cc80_72":{"id":"549c5523cc80_72","name":"c2c3","type":"P","href":null,"layout":null,"metadata":null,"text":"2 is the best with average 8.2k CLTV whereas 0 is the worst with 396. There are few more step before training the ML model:","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:549c5523cc80_72.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:549c5523cc80_72.markups.1","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:549c5523cc80_72.markups.0":{"type":"STRONG","start":32,"end":36,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:549c5523cc80_72.markups.1":{"type":"EM","start":32,"end":36,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:549c5523cc80_73":{"id":"549c5523cc80_73","name":"832e","type":"ULI","href":null,"layout":null,"metadata":null,"text":"Need to do some feature engineering. We should convert categorical columns to numerical columns.","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:549c5523cc80_74":{"id":"549c5523cc80_74","name":"2661","type":"ULI","href":null,"layout":null,"metadata":null,"text":"We will check the correlation of features against our label, CLTV clusters.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:549c5523cc80_74.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:549c5523cc80_74.markups.1","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:549c5523cc80_74.markups.0":{"type":"STRONG","start":61,"end":65,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:549c5523cc80_74.markups.1":{"type":"EM","start":61,"end":65,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:549c5523cc80_75":{"id":"549c5523cc80_75","name":"e470","type":"ULI","href":null,"layout":null,"metadata":null,"text":"We will split our feature set and label (CLTV) as X and y. We use X to predict y.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:549c5523cc80_75.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:549c5523cc80_75.markups.1","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:549c5523cc80_75.markups.0":{"type":"STRONG","start":41,"end":45,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:549c5523cc80_75.markups.1":{"type":"EM","start":41,"end":45,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:549c5523cc80_76":{"id":"549c5523cc80_76","name":"931b","type":"ULI","href":null,"layout":null,"metadata":null,"text":"Will create Training and Test dataset. Training set will be used for building the ML model.","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:549c5523cc80_77":{"id":"549c5523cc80_77","name":"fdbe","type":"P","href":null,"layout":null,"metadata":null,"text":"We will apply our model to Test set to see its real performance.","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:549c5523cc80_78":{"id":"549c5523cc80_78","name":"7b40","type":"PRE","href":null,"layout":null,"metadata":null,"text":"from sklearn.model_selection import KFold, cross_val_score, train_test_split\n#convert categorical columns to numerical\nDF_class = pd.get_dummies(DF_cluster)","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:549c5523cc80_79":{"id":"549c5523cc80_79","name":"4433","type":"PRE","href":null,"layout":null,"metadata":null,"text":"#calculate and show correlations\ncorr_matrix = DF_class.corr()\ncorr_matrix[‘LTVCluster’].sort_values(ascending=False)","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:549c5523cc80_80":{"id":"549c5523cc80_80","name":"1a66","type":"PRE","href":null,"layout":null,"metadata":null,"text":"#create X and y, X will be feature set and y is the label — LTV\nX = DF_class.drop([‘LTVCluster’,’m6_Monetary’],axis=1)\ny = DF_class[‘LTVCluster’]","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:549c5523cc80_81":{"id":"549c5523cc80_81","name":"acd4","type":"PRE","href":null,"layout":null,"metadata":null,"text":"#split training and test sets\nX_train, X_test, y_train, y_test = train_test_split(X, y, test_size=0.05, random_state=42)","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:549c5523cc80_82":{"id":"549c5523cc80_82","name":"5e5a","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"type":"id","generated":false,"id":"ImageMetadata:1*5Hv-UL2Nvl7ZfbdwYl7uzQ.png","typename":"ImageMetadata"},"text":"","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"ImageMetadata:1*5Hv-UL2Nvl7ZfbdwYl7uzQ.png":{"id":"1*5Hv-UL2Nvl7ZfbdwYl7uzQ.png","originalHeight":410,"originalWidth":564,"focusPercentX":null,"focusPercentY":null,"alt":null,"__typename":"ImageMetadata"},"Paragraph:549c5523cc80_83":{"id":"549c5523cc80_83","name":"54ea","type":"P","href":null,"layout":null,"metadata":null,"text":"We see that 3 months Revenue, Frequency and RFM scores will be helpful for our ML models. With the training and test sets we can build our model.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:549c5523cc80_83.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:549c5523cc80_83.markups.1","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:549c5523cc80_83.markups.0":{"type":"STRONG","start":44,"end":48,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:549c5523cc80_83.markups.1":{"type":"EM","start":44,"end":48,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:549c5523cc80_84":{"id":"549c5523cc80_84","name":"bb4d","type":"H3","href":null,"layout":null,"metadata":null,"text":"Machine Learning Algorithm comparison","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:549c5523cc80_85":{"id":"549c5523cc80_85","name":"ad09","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"type":"id","generated":false,"id":"ImageMetadata:1*Z0n3geXNAlfjVN52Z0OZ-A.png","typename":"ImageMetadata"},"text":"","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"ImageMetadata:1*Z0n3geXNAlfjVN52Z0OZ-A.png":{"id":"1*Z0n3geXNAlfjVN52Z0OZ-A.png","originalHeight":713,"originalWidth":965,"focusPercentX":null,"focusPercentY":null,"alt":null,"__typename":"ImageMetadata"},"Paragraph:549c5523cc80_86":{"id":"549c5523cc80_86","name":"af4e","type":"PQ","href":null,"layout":null,"metadata":null,"text":"Predictive model based on ML algorithms are kind of black box models which can be opened by using Sensitivity & Specificity analysis.","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:549c5523cc80_87":{"id":"549c5523cc80_87","name":"b3e6","type":"BQ","href":null,"layout":null,"metadata":null,"text":"FP = confusion_matrix.sum(axis=0) — np.diag(confusion_matrix)","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:549c5523cc80_88":{"id":"549c5523cc80_88","name":"1b1c","type":"BQ","href":null,"layout":null,"metadata":null,"text":"FN = confusion_matrix.sum(axis=1) — np.diag(confusion_matrix)","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:549c5523cc80_89":{"id":"549c5523cc80_89","name":"f540","type":"BQ","href":null,"layout":null,"metadata":null,"text":"TP = np.diag(confusion_matrix)","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:549c5523cc80_90":{"id":"549c5523cc80_90","name":"c4a6","type":"BQ","href":null,"layout":null,"metadata":null,"text":"TN = confusion_matrix.values.sum() — (FP + FN + TP)","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:549c5523cc80_91":{"id":"549c5523cc80_91","name":"2f02","type":"BQ","href":null,"layout":null,"metadata":null,"text":"TPR = TP\u002F(TP+FN) # Sensitivity, hit rate, recall, or true positive rate","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:549c5523cc80_92":{"id":"549c5523cc80_92","name":"9805","type":"BQ","href":null,"layout":null,"metadata":null,"text":"TNR = TN\u002F(TN+FP) # Specificity or true negative rate","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:549c5523cc80_93":{"id":"549c5523cc80_93","name":"a3cc","type":"BQ","href":null,"layout":null,"metadata":null,"text":"PPV = TP\u002F(TP+FP) # Precision or positive predictive value","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:549c5523cc80_94":{"id":"549c5523cc80_94","name":"df19","type":"BQ","href":null,"layout":null,"metadata":null,"text":"NPV = TN\u002F(TN+FN) # Negative predictive value","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:549c5523cc80_95":{"id":"549c5523cc80_95","name":"480a","type":"BQ","href":null,"layout":null,"metadata":null,"text":"FPR = FP\u002F(FP+TN) # Fall out or false positive rate","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:549c5523cc80_96":{"id":"549c5523cc80_96","name":"a819","type":"BQ","href":null,"layout":null,"metadata":null,"text":"FNR = FN\u002F(TP+FN) # False negative rate","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:549c5523cc80_97":{"id":"549c5523cc80_97","name":"5bd9","type":"BQ","href":null,"layout":null,"metadata":null,"text":"FDR = FP\u002F(TP+FP)# False discovery rate","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:549c5523cc80_98":{"id":"549c5523cc80_98","name":"2e7e","type":"BQ","href":null,"layout":null,"metadata":null,"text":"ACC = (TP+TN)\u002F(TP+FP+FN+TN) # Overall accuracy","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:549c5523cc80_99":{"id":"549c5523cc80_99","name":"b1a9","type":"H3","href":null,"layout":null,"metadata":null,"text":"XGB model","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:549c5523cc80_100":{"id":"549c5523cc80_100","name":"72e1","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"type":"id","generated":false,"id":"ImageMetadata:1*9roVRz-KmmS-4qlzDQzhlg.png","typename":"ImageMetadata"},"text":"","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"ImageMetadata:1*9roVRz-KmmS-4qlzDQzhlg.png":{"id":"1*9roVRz-KmmS-4qlzDQzhlg.png","originalHeight":664,"originalWidth":1142,"focusPercentX":null,"focusPercentY":null,"alt":null,"__typename":"ImageMetadata"},"Paragraph:549c5523cc80_101":{"id":"549c5523cc80_101","name":"6b8b","type":"P","href":null,"layout":null,"metadata":null,"text":"We have a multi classification model with 3 groups (clusters). Accuracy shows 78% on the test set. Our True positives are on the diagonal axis and are the largest numbers here. The False Negatives are the sum of the other values along the rows. The False Positives are the sum of the other values down the columns. Precision and recall are acceptable for 0. For cluster 0 which is Low CLTV, if model identifies customer belongs to cluster 0, 85% chance that it will be correct(precision).The classifier successfully identifies 90% of actual cluster 0 customers (recall). We need to improve the model for other clusters. The classifier barely detect 43% of Mid CLTV customers.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:549c5523cc80_101.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:549c5523cc80_101.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:549c5523cc80_101.markups.2","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:549c5523cc80_101.markups.3","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:549c5523cc80_101.markups.4","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:549c5523cc80_101.markups.0":{"type":"STRONG","start":385,"end":389,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:549c5523cc80_101.markups.1":{"type":"STRONG","start":660,"end":664,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:549c5523cc80_101.markups.2":{"type":"EM","start":385,"end":389,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:549c5523cc80_101.markups.3":{"type":"EM","start":410,"end":411,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:549c5523cc80_101.markups.4":{"type":"EM","start":660,"end":664,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:549c5523cc80_102":{"id":"549c5523cc80_102","name":"81ba","type":"P","href":null,"layout":null,"metadata":null,"text":"Let’s experiment changing the depth and OneVsRestClassifier —","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:549c5523cc80_103":{"id":"549c5523cc80_103","name":"644d","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"type":"id","generated":false,"id":"ImageMetadata:1*6HuZfdiPZUD5nQb8zVvIRQ.png","typename":"ImageMetadata"},"text":"","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"ImageMetadata:1*6HuZfdiPZUD5nQb8zVvIRQ.png":{"id":"1*6HuZfdiPZUD5nQb8zVvIRQ.png","originalHeight":444,"originalWidth":876,"focusPercentX":null,"focusPercentY":null,"alt":null,"__typename":"ImageMetadata"},"Paragraph:549c5523cc80_104":{"id":"549c5523cc80_104","name":"e541","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"type":"id","generated":false,"id":"ImageMetadata:1*VivYC7DsUX5kXyIX9wIv6w.png","typename":"ImageMetadata"},"text":"","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"ImageMetadata:1*VivYC7DsUX5kXyIX9wIv6w.png":{"id":"1*VivYC7DsUX5kXyIX9wIv6w.png","originalHeight":480,"originalWidth":603,"focusPercentX":null,"focusPercentY":null,"alt":null,"__typename":"ImageMetadata"},"Paragraph:549c5523cc80_105":{"id":"549c5523cc80_105","name":"7c84","type":"P","href":null,"layout":null,"metadata":null,"text":"Some improvement can be seen here. However, there are still rooms for improvement e.g.","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:549c5523cc80_106":{"id":"549c5523cc80_106","name":"25df","type":"ULI","href":null,"layout":null,"metadata":null,"text":"Adding more features and improve feature engineering","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:549c5523cc80_107":{"id":"549c5523cc80_107","name":"0d66","type":"ULI","href":null,"layout":null,"metadata":null,"text":"Try ANN \u002FDNN","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:549c5523cc80_108":{"id":"549c5523cc80_108","name":"fec1","type":"H3","href":null,"layout":null,"metadata":null,"text":"ROCAUC","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:549c5523cc80_109":{"id":"549c5523cc80_109","name":"09f2","type":"P","href":null,"layout":null,"metadata":null,"text":"By default with multi-class ROCAUC visualizations, a curve for each class is plotted, in addition to the micro- and macro-average curves for each class. This enables the user to inspect the tradeoff between sensitivity and specificity on a per-class basis.","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:549c5523cc80_110":{"id":"549c5523cc80_110","name":"af87","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"type":"id","generated":false,"id":"ImageMetadata:1*oOsPjQ1L1CU4D6YtKozVHQ.png","typename":"ImageMetadata"},"text":"","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"ImageMetadata:1*oOsPjQ1L1CU4D6YtKozVHQ.png":{"id":"1*oOsPjQ1L1CU4D6YtKozVHQ.png","originalHeight":614,"originalWidth":931,"focusPercentX":null,"focusPercentY":null,"alt":null,"__typename":"ImageMetadata"},"Paragraph:549c5523cc80_111":{"id":"549c5523cc80_111","name":"5d0b","type":"H3","href":null,"layout":null,"metadata":null,"text":"Class Prediction Error","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:549c5523cc80_112":{"id":"549c5523cc80_112","name":"99ee","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"type":"id","generated":false,"id":"ImageMetadata:1*_9jfOn6gC6L8zQA33a9AkA.png","typename":"ImageMetadata"},"text":"","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"ImageMetadata:1*_9jfOn6gC6L8zQA33a9AkA.png":{"id":"1*_9jfOn6gC6L8zQA33a9AkA.png","originalHeight":751,"originalWidth":1027,"focusPercentX":null,"focusPercentY":null,"alt":null,"__typename":"ImageMetadata"},"Paragraph:549c5523cc80_113":{"id":"549c5523cc80_113","name":"12d8","type":"P","href":null,"layout":null,"metadata":null,"text":"Understanding prediction errors and determining how to ﬁx them is critical to building effective predictive systems. If you are interested, I will recommend to read this article to know more about prediction errors.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:549c5523cc80_113.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:549c5523cc80_113.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:549c5523cc80_113.markups.2","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:549c5523cc80_113.markups.0":{"type":"A","start":170,"end":177,"href":"https:\u002F\u002Fwww.microsoft.com\u002Fen-us\u002Fresearch\u002Fwp-content\u002Fuploads\u002F2016\u002F11\u002FPredictionErrorsTechReport.pdf","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:549c5523cc80_113.markups.1":{"type":"STRONG","start":170,"end":178,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:549c5523cc80_113.markups.2":{"type":"EM","start":170,"end":177,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:549c5523cc80_114":{"id":"549c5523cc80_114","name":"d3df","type":"H3","href":null,"layout":null,"metadata":null,"text":"Summary","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:549c5523cc80_115":{"id":"549c5523cc80_115","name":"eb3f","type":"P","href":null,"layout":null,"metadata":null,"text":"In ML models parameters are tuned\u002Festimated based on the data and the parameters control how the algorithms learn from the data (without making any assumptions about the data, and downstream of the data generation). XGB is a tree based algorithm and hence can be considered nonparametric. The tree depth used here is a parameter of the algorithm, but it is not inherently derived from the data, but rather an input parameter.","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:549c5523cc80_116":{"id":"549c5523cc80_116","name":"3f2d","type":"P","href":null,"layout":null,"metadata":null,"text":"I can be reached here.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:549c5523cc80_116.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:549c5523cc80_116.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:549c5523cc80_116.markups.2","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:549c5523cc80_116.markups.0":{"type":"A","start":17,"end":21,"href":"https:\u002F\u002Fwww.linkedin.com\u002Fin\u002Fsaritmaitra\u002F","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:549c5523cc80_116.markups.1":{"type":"STRONG","start":0,"end":22,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:549c5523cc80_116.markups.2":{"type":"EM","start":17,"end":21,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Tag:machine-learning":{"id":"machine-learning","displayTitle":"Machine Learning","__typename":"Tag"},"Tag:customer-service":{"id":"customer-service","displayTitle":"Customer Service","__typename":"Tag"},"Tag:data-science":{"id":"data-science","displayTitle":"Data Science","__typename":"Tag"},"Tag:analytics":{"id":"analytics","displayTitle":"Analytics","__typename":"Tag"},"ImageMetadata:":{"id":"","__typename":"ImageMetadata"},"$Post:15f9cb3653b0.previewContent":{"subtitle":"Forecasting consumer purchases using customer segmentation and algorithmic approaches and ensemble machine learning techniques","__typename":"PreviewContent"},"machine-learning":{"name":"Machine Learning","slug":"machine-learning","__typename":"Topic"},"$ROOT_QUERY.notificationsConnection({})":{"notifications":[],"pagingInfo":{"type":"id","generated":true,"id":"$ROOT_QUERY.notificationsConnection({}).pagingInfo","typename":"Paging"},"__typename":"NotificationsConnection"},"$ROOT_QUERY.notificationsConnection({}).pagingInfo":{"next":null,"__typename":"Paging"},"$ROOT_QUERY.notificationStatus":{"unreadNotificationCount":0,"__typename":"NotificationStatus"}}</script><script src="https://cdn-client.medium.com/lite/static/js/manifest.1214d2cd.js"></script><script src="https://cdn-client.medium.com/lite/static/js/vendors~main.26101d5d.chunk.js"></script><script src="https://cdn-client.medium.com/lite/static/js/main.092d97f9.chunk.js"></script><script src="https://cdn-client.medium.com/lite/static/js/vendors~screen.collection.packageBuilder~screen.landingpages.pres45~screen.landingpages.tribute~scre~db2e03c5.9b2b978b.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/screen.collection.packageBuilder~screen.landingpages.pres45~screen.landingpages.tribute~screen.post~~e4ce3e4e.2988d501.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/screen.collection.packageBuilder~screen.landingpages.pres45~screen.landingpages.tribute~screen.post~~26b15e7b.12eaeaf1.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/screen.post~screen.post.amp~screen.profile~screen.sequence.library~screen.sequence.post~screen.stori~aba94ffa.c6de8802.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/screen.post.1df7f7c5.chunk.js"></script><script>window.main();</script></body></html>